"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[560],{1560:(e,t,n)=>{n.r(t),n.d(t,{AuthError:()=>F.l,associateWebAuthnCredential:()=>e4,autoSignIn:()=>eQ.eA,confirmResetPassword:()=>a.P,confirmSignIn:()=>b.r,confirmSignUp:()=>R.z,confirmUserAttribute:()=>K,decodeJWT:()=>c.Cq,deleteUser:()=>eL,deleteUserAttributes:()=>eV,deleteWebAuthnCredential:()=>tn,fetchAuthSession:()=>M.$,fetchDevices:()=>eq,fetchMFAPreference:()=>P,fetchUserAttributes:()=>eD,forgetDevice:()=>eK,getCurrentUser:()=>Y.H,listWebAuthnCredentials:()=>e7,rememberDevice:()=>eY,resendSignUpCode:()=>T,resetPassword:()=>r.x,sendUserAttributeVerificationCode:()=>eN,setUpTOTP:()=>J,signIn:()=>s.J,signInWithRedirect:()=>eO,signOut:()=>eH.C,signUp:()=>o.H,updateMFAPreference:()=>k,updatePassword:()=>N,updateUserAttribute:()=>G,updateUserAttributes:()=>L,verifyTOTPSetup:()=>H});var i,o=n(1066),r=n(8294),a=n(576),s=n(3313),l=n(5473),c=n(4606),d=n(1317),u=n(5284),g=n(8e3),f=n(6118),A=n(9856),p=n(7232),h=n(7592),m=n(3603),y=n(7660),C=n(5789),w=n(4988);let v=e=>(0,h.A)(m.e,(0,y._)("ResendConfirmationCode"),(0,C.T)(),{...w.C,...e});var S=n(3952);async function T(e){let{username:t}=e;(0,u.M)(!!t,g.P.EmptySignUpUsername);let n=l.H.getConfig().Auth?.Cognito;(0,c.$y)(n);let{userPoolClientId:i,userPoolId:o,userPoolEndpoint:r}=n,a=e.options?.clientMetadata,s=(0,p.d)({username:t,userPoolId:o,userPoolClientId:i}),h=v({endpointResolver:(0,S.o)({endpointOverride:r})}),{CodeDeliveryDetails:m}=await h({region:(0,f.J)(n.userPoolId),userAgentValue:(0,A.A)(d.BM.ResendSignUpCode)},{Username:t,ClientMetadata:a,ClientId:n.userPoolClientId,UserContextData:s}),{DeliveryMedium:y,AttributeName:C,Destination:w}={...m};return{destination:w,deliveryMedium:y,attributeName:C||void 0}}var R=n(1984),b=n(2696),M=n(548),U=n(3917);let E=e=>(0,h.A)(m.e,(0,y._)("SetUserMFAPreference"),(0,C.T)(),{...w.C,...e});async function k(e){let{sms:t,totp:n,email:i}=e,o=l.H.getConfig().Auth?.Cognito;(0,c.$y)(o);let{userPoolEndpoint:r,userPoolId:a}=o,{tokens:s}=await (0,M.$)({forceRefresh:!1});(0,U.H0)(s);let u=E({endpointResolver:(0,S.o)({endpointOverride:r})});await u({region:(0,f.J)(a),userAgentValue:(0,A.A)(d.BM.UpdateMFAPreference)},{AccessToken:s.accessToken.toString(),SMSMfaSettings:O(t),SoftwareTokenMfaSettings:O(n),EmailMfaSettings:O(i)})}function O(e){return"DISABLED"===e?{Enabled:!1}:"PREFERRED"===e?{Enabled:!0,PreferredMfa:!0}:"ENABLED"===e?{Enabled:!0}:"NOT_PREFERRED"===e?{Enabled:!0,PreferredMfa:!1}:void 0}var I=n(2123);let _=e=>(0,h.A)(m.e,(0,y._)("GetUser"),(0,C.T)(),{...w.C,...e});async function P(){let e=l.H.getConfig().Auth?.Cognito;(0,c.$y)(e);let{userPoolEndpoint:t,userPoolId:n}=e,{tokens:i}=await (0,M.$)({forceRefresh:!1});(0,U.H0)(i);let o=_({endpointResolver:(0,S.o)({endpointOverride:t})}),{PreferredMfaSetting:r,UserMFASettingList:a}=await o({region:(0,f.J)(n),userAgentValue:(0,A.A)(d.BM.FetchMFAPreference)},{AccessToken:i.accessToken.toString()});return{preferred:(0,I.DI)(r),enabled:(0,I.So)(a)}}var D=n(5637);async function H(e){let t=l.H.getConfig().Auth?.Cognito;(0,c.$y)(t);let{userPoolEndpoint:n,userPoolId:i}=t,{code:o,options:r}=e;(0,u.M)(!!o,g.P.EmptyVerifyTOTPSetupCode);let{tokens:a}=await (0,M.$)({forceRefresh:!1});(0,U.H0)(a);let s=(0,D.Z)({endpointResolver:(0,S.o)({endpointOverride:n})});await s({region:(0,f.J)(i),userAgentValue:(0,A.A)(d.BM.VerifyTOTPSetup)},{AccessToken:a.accessToken.toString(),UserCode:o,FriendlyDeviceName:r?.friendlyDeviceName})}let $=e=>(0,h.A)(m.e,(0,y._)("ChangePassword"),(0,C.T)(),{...w.C,...e});async function N(e){let t=l.H.getConfig().Auth?.Cognito;(0,c.$y)(t);let{userPoolEndpoint:n,userPoolId:i}=t,{oldPassword:o,newPassword:r}=e;(0,u.M)(!!o,g.P.EmptyUpdatePassword),(0,u.M)(!!r,g.P.EmptyUpdatePassword);let{tokens:a}=await (0,M.$)({forceRefresh:!1});(0,U.H0)(a);let s=$({endpointResolver:(0,S.o)({endpointOverride:n})});await s({region:(0,f.J)(i),userAgentValue:(0,A.A)(d.BM.UpdatePassword)},{AccessToken:a.accessToken.toString(),PreviousPassword:o,ProposedPassword:r})}var F=n(5781),V=n(831),B=n(4896);async function J(){let e=l.H.getConfig().Auth?.Cognito;(0,c.$y)(e);let{userPoolEndpoint:t,userPoolId:n}=e,{tokens:i}=await (0,M.$)({forceRefresh:!1});(0,U.H0)(i);let o=i.idToken?.payload["cognito:username"]??"",r=(0,B.i)({endpointResolver:(0,S.o)({endpointOverride:t})}),{SecretCode:a}=await r({region:(0,f.J)(n),userAgentValue:(0,A.A)(d.BM.SetUpTOTP)},{AccessToken:i.accessToken.toString()});if(!a)throw new F.l({name:V.Cw,message:"Failed to set up TOTP."});return(0,I.be)(a,JSON.stringify(o))}var W=n(8741);let j=e=>(0,h.A)(m.e,(0,y._)("UpdateUserAttributes"),(0,C.T)(),{...w.C,...e}),L=async e=>{let{userAttributes:t,options:n}=e,i=l.H.getConfig().Auth?.Cognito,o=n?.clientMetadata;(0,c.$y)(i);let{userPoolEndpoint:r,userPoolId:a}=i,{tokens:s}=await (0,M.$)({forceRefresh:!1});(0,U.H0)(s);let u=j({endpointResolver:(0,S.o)({endpointOverride:r})}),{CodeDeliveryDetailsList:g}=await u({region:(0,f.J)(a),userAgentValue:(0,A.A)(d.BM.UpdateUserAttributes)},{AccessToken:s.accessToken.toString(),ClientMetadata:o,UserAttributes:(0,W.Q)(t)});return{...function(e){let t={};return Object.keys(e)?.forEach(e=>{t[e]={isUpdated:!0,nextStep:{updateAttributeStep:"DONE"}}}),t}(t),...function(e){let t={};return e?.forEach(e=>{let{AttributeName:n,DeliveryMedium:i,Destination:o}=e;n&&(t[n]={isUpdated:!1,nextStep:{updateAttributeStep:"CONFIRM_ATTRIBUTE_WITH_CODE",codeDeliveryDetails:{attributeName:n,deliveryMedium:i,destination:o}}})}),t}(g)}},G=async e=>{let{userAttribute:{attributeKey:t,value:n},options:i}=e;return Object.values(await L({userAttributes:{[t]:n},options:i}))[0]};var Y=n(9384);let x=e=>(0,h.A)(m.e,(0,y._)("VerifyUserAttribute"),(0,C.T)(),{...w.C,...e});async function K(e){let t=l.H.getConfig().Auth?.Cognito;(0,c.$y)(t);let{userPoolEndpoint:n,userPoolId:i}=t,{confirmationCode:o,userAttributeKey:r}=e;(0,u.M)(!!o,g.P.EmptyConfirmUserAttributeCode);let{tokens:a}=await (0,M.$)({forceRefresh:!1});(0,U.H0)(a);let s=x({endpointResolver:(0,S.o)({endpointOverride:n})});await s({region:(0,f.J)(i),userAgentValue:(0,A.A)(d.BM.ConfirmUserAttribute)},{AccessToken:a.accessToken.toString(),AttributeName:r,Code:o})}var z=n(8104),q=n(8307),Z=n(9102),Q=n(1478),X=n(4597),ee=n(6886),et=n(1401),en=n(5446),ei=n(2864),eo=n(998),er=n(354),ea=n(1899);new er.C("AuthError");let es={oauthSignInError:{message:ea.fs.OAUTH_ERROR,log:"Make sure Cognito Hosted UI has been configured correctly"},noConfig:{message:ea.fs.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly.
            This error is typically caused by one of the following scenarios:

            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point
                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information
            
            2. There might be multiple conflicting versions of amplify packages in your node_modules.
				Refer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)
        `},missingAuthConfig:{message:ea.fs.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly. 
            The configuration object is missing required auth properties.
            This error is typically caused by one of the following scenarios:

            1. Did you run \`amplify push\` after adding auth via \`amplify add auth\`?
                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information

            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.
        `},emptyUsername:{message:ea.fs.EMPTY_USERNAME},invalidUsername:{message:ea.fs.INVALID_USERNAME},emptyPassword:{message:ea.fs.EMPTY_PASSWORD},emptyCode:{message:ea.fs.EMPTY_CODE},signUpError:{message:ea.fs.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:ea.fs.NO_MFA},invalidMFA:{message:ea.fs.INVALID_MFA},emptyChallengeResponse:{message:ea.fs.EMPTY_CHALLENGE},noUserSession:{message:ea.fs.NO_USER_SESSION},deviceConfig:{message:ea.fs.DEVICE_CONFIG},networkError:{message:ea.fs.NETWORK_ERROR},autoSignInError:{message:ea.fs.AUTOSIGNIN_ERROR},default:{message:ea.fs.DEFAULT_MSG}},el=(e,t)=>new F.l({message:e??"An error has occurred during the oauth process.",name:ea.nC.OAuthSignInError,recoverySuggestion:t??es.oauthSignInError.log});!function(e){e.NoConfig="noConfig",e.MissingAuthConfig="missingAuthConfig",e.EmptyUsername="emptyUsername",e.InvalidUsername="invalidUsername",e.EmptyPassword="emptyPassword",e.EmptyCode="emptyCode",e.SignUpError="signUpError",e.NoMFA="noMFA",e.InvalidMFA="invalidMFA",e.EmptyChallengeResponse="emptyChallengeResponse",e.NoUserSession="noUserSession",e.Default="default",e.DeviceConfig="deviceConfig",e.NetworkError="networkError",e.AutoSignInError="autoSignInError",e.OAuthSignInError="oauthSignInError"}(i||(i={}));let ec=async e=>{let t=await Z.f.loadOAuthState(),n=e===t?t:void 0;if(!n)throw new F.l({name:i.OAuthSignInError,message:null===e?"`signInWithRedirect` has been canceled.":"An error occurred while validating the state.",recoverySuggestion:null===e?void 0:"Try to initiate an OAuth flow from Amplify"});return n},ed=async({currentUrl:e,userAgentValue:t,clientId:n,redirectUri:i,responseType:o,domain:r,preferPrivateSession:a})=>{let s=new Q.o(e),l=s.searchParams.get("error"),c=s.searchParams.get("error_description");if(l)throw el(c??l);return"code"===o?eu({currentUrl:e,userAgentValue:t,clientId:n,redirectUri:i,domain:r,preferPrivateSession:a}):eg({currentUrl:e,redirectUri:i,preferPrivateSession:a})},eu=async({currentUrl:e,userAgentValue:t,clientId:n,redirectUri:i,domain:o,preferPrivateSession:r})=>{let a=new Q.o(e),s=a.searchParams.get("code"),l=a.searchParams.get("state");if(!s||!l)throw el("User cancelled OAuth flow.");let d=await ec(l),u=await Z.f.loadPKCE(),g=Object.entries({grant_type:"authorization_code",code:s,client_id:n,redirect_uri:i,...u?{code_verifier:u}:{}}).map(([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`).join("&"),{access_token:f,refresh_token:A,id_token:p,error:h,error_message:m,token_type:y,expires_in:C}=await (await fetch("https://"+o+"/oauth2/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",[X.YJ]:t},body:g})).json();if(h)throw el(m??h);let w=(f&&(0,c.Cq)(f).payload.username)??"username";return await (0,et.i)({username:w,AccessToken:f,IdToken:p,RefreshToken:A}),ef({redirectUri:i,state:d,preferPrivateSession:r})},eg=async({currentUrl:e,redirectUri:t,preferPrivateSession:n})=>{let{id_token:i,access_token:o,state:r,token_type:a,expires_in:s,error_description:l,error:d}=(new Q.o(e).hash??"#").substring(1).split("&").map(e=>e.split("=")).reduce((e,[t,n])=>({...e,[t]:n}),{id_token:void 0,access_token:void 0,state:void 0,token_type:void 0,expires_in:void 0,error_description:void 0,error:void 0});if(d)throw el(l??d);if(!o)throw el("No access token returned from OAuth flow.");let u=await ec(r),g=(o&&(0,c.Cq)(o).payload.username)??"username";return await (0,et.i)({username:g,AccessToken:o,IdToken:i}),ef({redirectUri:t,state:u,preferPrivateSession:n})},ef=async({redirectUri:e,state:t,preferPrivateSession:n})=>{await eo.o.setOAuthMetadata({oauthSignIn:!0}),await Z.f.clearOAuthData(),await Z.f.storeOAuthSignIn(!0,n),(0,ei.i)(),eh(e),eA(t)&&ee.YZ.dispatch("auth",{event:"customOAuthState",data:(ep(t).match(/.{2}/g)||[]).map(e=>String.fromCharCode(parseInt(e,16))).join("")},"Auth",ee.U9),ee.YZ.dispatch("auth",{event:"signInWithRedirect"},"Auth",ee.U9),await (0,en.Q)()},eA=e=>/-/.test(e),ep=e=>e.split("-").splice(1).join("-"),eh=e=>{"undefined"!=typeof window&&void 0!==window.history&&window.history.replaceState(window.history.state,"",e)};var em=n(2057);let ey=async e=>{(0,ei.i)(),await Z.f.clearOAuthInflightData(),ee.YZ.dispatch("auth",{event:"signInWithRedirect_failure",data:{error:e}},"Auth",ee.U9)},eC=async e=>{try{(0,c.$y)(e),(0,c.G6)(e),Z.f.setAuthConfig(e)}catch(e){return}if(await Z.f.loadOAuthInFlight())try{let t=window.location.href,{loginWith:n,userPoolClientId:i}=e,{domain:o,redirectSignIn:r,responseType:a}=n.oauth,s=(0,em.M)(r);await ed({currentUrl:t,clientId:i,domain:o,redirectUri:s,responseType:a,userAgentValue:(0,A.A)(d.BM.SignInWithRedirect)})}catch(e){await ey(e)}};(0,z.B)()&&l.H[q.$](eC);let ew={Google:"Google",Facebook:"Facebook",Amazon:"LoginWithAmazon",Apple:"SignInWithApple"};var ev=n(9871),eS=n(236),eT=n(6393),eR=n(9096);let eb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",eM=e=>{let t;let n=new Uint8Array(e);(0,eT.MY)().getRandomValues(n);let i="";for(let e of n)i+=eb.charAt(e%eb.length);return{value:i,method:"S256",toCodeChallenge:()=>t||(t=function(e){let t=new eS.I;return t.update(e),eR.Y.convert(t.digestSync(),{urlSafe:!0}).replace(/=/g,"")}(i))}},eU=e=>{let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],i=new Uint8Array(e);for(let e of((0,eT.MY)().getRandomValues(i),i))n.push(t[e%t.length]);return n.join("")},eE=()=>eU(32),ek=e=>{async function t(n){if(n.persisted&&await e.loadOAuthInFlight()){let e=el("User cancelled OAuth flow.");await ey(e)}window.removeEventListener("pageshow",t)}window.addEventListener("pageshow",t)};async function eO(e){let t=l.H.getConfig().Auth?.Cognito;(0,c.$y)(t),(0,c.G6)(t),Z.f.setAuthConfig(t),await (0,I.AR)();let n="COGNITO";return"string"==typeof e?.provider?n=ew[e.provider]:e?.provider?.custom&&(n=e.provider.custom),eI({oauthConfig:t.loginWith.oauth,clientId:t.userPoolClientId,provider:n,customState:e?.customState,preferPrivateSession:e?.options?.preferPrivateSession,options:{loginHint:e?.options?.loginHint,lang:e?.options?.lang,nonce:e?.options?.nonce}})}let eI=async({oauthConfig:e,provider:t,clientId:n,customState:i,preferPrivateSession:o,options:r})=>{let{domain:a,redirectSignIn:s,responseType:l,scopes:c}=e,{loginHint:u,lang:g,nonce:f}=r??{},p=eE(),h=i?`${p}-${i.split("").map(e=>e.charCodeAt(0).toString(16).padStart(2,"0")).join("")}`:p,{value:m,method:y,toCodeChallenge:C}=eM(128),w=(0,em.M)(e.redirectSignIn);(0,z.B)()&&Z.f.storeOAuthInFlight(!0),Z.f.storeOAuthState(h),Z.f.storePKCE(m);let v=Object.entries({redirect_uri:w,response_type:l,client_id:n,identity_provider:t,scope:c.join(" "),...u&&{login_hint:u},...g&&{lang:g},...f&&{nonce:f},state:h,..."code"===l&&{code_challenge:C(),code_challenge_method:y}}).map(([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`).join("&"),S=`https://${a}/oauth2/authorize?${v}`;ek(Z.f);let{type:T,error:R,url:b}=await (0,ev.z)(S)??{};try{if("error"===T)throw el(String(R));"success"===T&&b&&await ed({currentUrl:b,clientId:n,domain:a,redirectUri:w,responseType:l,userAgentValue:(0,A.A)(d.BM.SignInWithRedirect),preferPrivateSession:o})}catch(e){throw await ey(e),e}};var e_=n(818);let eP=async e=>{let t=e.getConfig().Auth?.Cognito;(0,c.$y)(t);let{userPoolEndpoint:n,userPoolId:i}=t,{tokens:o}=await (0,e_.$)(e,{forceRefresh:!1});(0,U.H0)(o);let r=_({endpointResolver:(0,S.o)({endpointOverride:n})}),{UserAttributes:a}=await r({region:(0,f.J)(i),userAgentValue:(0,A.A)(d.BM.FetchUserAttributes)},{AccessToken:o.accessToken.toString()});return(0,W.J)(a)},eD=()=>eP(l.H);var eH=n(7443);let e$=e=>(0,h.A)(m.e,(0,y._)("GetUserAttributeVerificationCode"),(0,C.T)(),{...w.C,...e}),eN=async e=>{let{userAttributeKey:t,options:n}=e,i=l.H.getConfig().Auth?.Cognito,o=n?.clientMetadata;(0,c.$y)(i);let{userPoolEndpoint:r,userPoolId:a}=i,{tokens:s}=await (0,M.$)({forceRefresh:!1});(0,U.H0)(s);let u=e$({endpointResolver:(0,S.o)({endpointOverride:r})}),{CodeDeliveryDetails:g}=await u({region:(0,f.J)(a),userAgentValue:(0,A.A)(d.BM.SendUserAttributeVerificationCode)},{AccessToken:s.accessToken.toString(),ClientMetadata:o,AttributeName:t}),{DeliveryMedium:p,AttributeName:h,Destination:m}={...g};return{destination:m,deliveryMedium:p,attributeName:h}},eF=e=>(0,h.A)(m.e,(0,y._)("DeleteUserAttributes"),(0,C.T)(),{...w.C,...e});async function eV(e){let t=l.H.getConfig().Auth?.Cognito;(0,c.$y)(t);let{userAttributeKeys:n}=e,{userPoolEndpoint:i,userPoolId:o}=t,{tokens:r}=await (0,M.$)({forceRefresh:!1});(0,U.H0)(r);let a=eF({endpointResolver:(0,S.o)({endpointOverride:i})});await a({region:(0,f.J)(o),userAgentValue:(0,A.A)(d.BM.DeleteUserAttributes)},{AccessToken:r.accessToken.toString(),UserAttributeNames:n})}var eB=n(3553),eJ=n(434);let eW=()=>async e=>{if(e.statusCode>=300){let t=await (0,eB.F)(e);throw(0,eJ.e)(t),new F.l({name:t.name,message:t.message})}},ej=e=>(0,h.A)(m.e,(0,y._)("DeleteUser"),eW(),{...w.C,...e});async function eL(){let e=l.H.getConfig().Auth?.Cognito;(0,c.$y)(e);let{userPoolEndpoint:t,userPoolId:n}=e,{tokens:i}=await (0,M.$)();(0,U.H0)(i);let o=ej({endpointResolver:(0,S.o)({endpointOverride:t})});await o({region:(0,f.J)(n),userAgentValue:(0,A.A)(d.BM.DeleteUser)},{AccessToken:i.accessToken.toString()}),await eo.o.clearDeviceMetadata(),await (0,eH.C)()}let eG=e=>(0,h.A)(m.e,(0,y._)("UpdateDeviceStatus"),(0,C.T)(),{...w.C,...e});async function eY(){let e=l.H.getConfig().Auth?.Cognito;(0,c.$y)(e);let{userPoolEndpoint:t,userPoolId:n}=e,{tokens:i}=await (0,M.$)();(0,U.H0)(i);let o=await eo.o?.getDeviceMetadata();(0,U.O_)(o);let r=eG({endpointResolver:(0,S.o)({endpointOverride:t})});await r({region:(0,f.J)(n),userAgentValue:(0,A.A)(d.BM.RememberDevice)},{AccessToken:i.accessToken.toString(),DeviceKey:o.deviceKey,DeviceRememberedStatus:"remembered"})}let ex=e=>(0,h.A)(m.e,(0,y._)("ForgetDevice"),eW(),{...w.C,...e});async function eK(e){let{device:{id:t}={id:void 0}}=e??{},n=l.H.getConfig().Auth?.Cognito;(0,c.$y)(n);let{userPoolEndpoint:i,userPoolId:o}=n,{tokens:r}=await (0,M.$)();(0,U.H0)(r);let a=await eo.o.getDeviceMetadata(),s=a?.deviceKey;t||(0,U.O_)(a);let u=ex({endpointResolver:(0,S.o)({endpointOverride:i})});await u({region:(0,f.J)(o),userAgentValue:(0,A.A)(d.BM.ForgetDevice)},{AccessToken:r.accessToken.toString(),DeviceKey:t??s}),t&&t!==s||await eo.o.clearDeviceMetadata()}let ez=e=>(0,h.A)(m.e,(0,y._)("ListDevices"),(0,C.T)(),{...w.C,...e});async function eq(){let e=l.H.getConfig().Auth?.Cognito;(0,c.$y)(e);let{userPoolEndpoint:t,userPoolId:n}=e,{tokens:i}=await (0,M.$)();(0,U.H0)(i);let o=ez({endpointResolver:(0,S.o)({endpointOverride:t})});return eZ((await o({region:(0,f.J)(n),userAgentValue:(0,A.A)(d.BM.FetchDevices)},{AccessToken:i.accessToken.toString(),Limit:60})).Devices??[])}let eZ=async e=>e.map(({DeviceKey:e="",DeviceAttributes:t=[],DeviceCreateDate:n,DeviceLastModifiedDate:i,DeviceLastAuthenticatedDate:o})=>{let r;let a=t.reduce((e,{Name:t,Value:n})=>(t&&n&&("device_name"===t&&(r=n),e[t]=n),e),{});return{id:e,name:r,attributes:a,createDate:n?new Date(1e3*n):void 0,lastModifiedDate:i?new Date(1e3*i):void 0,lastAuthenticatedDate:o?new Date(1e3*o):void 0}});var eQ=n(6369),eX=n(4512),e0=n(3081),e1=n(6703),e3=n(764);let e6=async e=>{try{let t=(0,e3.H)();(0,e1.xk)(t,e1.Au.PasskeyNotSupported);let n=(0,e0.At)(e),i=await navigator.credentials.create({publicKey:n});return(0,eX.Yn)(i),(0,e0.KN)(i)}catch(e){throw(0,e1.at)(e)}},e8=e=>(0,h.A)(m.e,(0,y._)("StartWebAuthnRegistration"),(0,C.T)(),{...w.C,...e}),e9=e=>(0,h.A)(m.e,(0,y._)("CompleteWebAuthnRegistration"),(0,C.T)(),{...w.C,...e});async function e4(){let e=l.H.getConfig().Auth?.Cognito;(0,c.$y)(e);let{userPoolEndpoint:t,userPoolId:n}=e,{tokens:i}=await (0,M.$)();(0,U.H0)(i);let o=e8({endpointResolver:(0,S.o)({endpointOverride:t})}),{CredentialCreationOptions:r}=await o({region:(0,f.J)(n),userAgentValue:(0,A.A)(d.BM.StartWebAuthnRegistration)},{AccessToken:i.accessToken.toString()});(0,e1.xk)([!!r,!!r?.challenge,!!r?.user,!!r?.rp,!!r?.pubKeyCredParams].every(Boolean),e1.Au.InvalidPasskeyRegistrationOptions);let a=await e6(r),s=e9({endpointResolver:(0,S.o)({endpointOverride:t})});await s({region:(0,f.J)(n),userAgentValue:(0,A.A)(d.BM.CompleteWebAuthnRegistration)},{AccessToken:i.accessToken.toString(),Credential:a})}let e2=e=>(0,h.A)(m.e,(0,y._)("ListWebAuthnCredentials"),(0,C.T)(),{...w.C,...e});async function e5(e,t){let n=e.getConfig().Auth?.Cognito;(0,c.$y)(n);let{userPoolEndpoint:i,userPoolId:o}=n,{tokens:r}=await e.Auth.fetchAuthSession();(0,U.H0)(r);let a=e2({endpointResolver:(0,S.o)({endpointOverride:i})}),{Credentials:s=[],NextToken:l}=await a({region:(0,f.J)(o),userAgentValue:(0,A.A)(d.BM.ListWebAuthnCredentials)},{AccessToken:r.accessToken.toString(),MaxResults:t?.pageSize,NextToken:t?.nextToken});return{credentials:s.map(e=>({credentialId:e.CredentialId,friendlyCredentialName:e.FriendlyCredentialName,relyingPartyId:e.RelyingPartyId,authenticatorAttachment:e.AuthenticatorAttachment,authenticatorTransports:e.AuthenticatorTransports,createdAt:e.CreatedAt?new Date(1e3*e.CreatedAt):void 0})),nextToken:l}}async function e7(e){return e5(l.H,e)}let te=e=>(0,h.A)(m.e,(0,y._)("DeleteWebAuthnCredential"),(0,C.T)(),{...w.C,...e});async function tt(e,t){let n=e.getConfig().Auth?.Cognito;(0,c.$y)(n);let{userPoolEndpoint:i,userPoolId:o}=n,{tokens:r}=await e.Auth.fetchAuthSession();(0,U.H0)(r);let a=te({endpointResolver:(0,S.o)({endpointOverride:i})});await a({region:(0,f.J)(o),userAgentValue:(0,A.A)(d.BM.DeleteWebAuthnCredential)},{AccessToken:r.accessToken.toString(),CredentialId:t.credentialId})}async function tn(e){return tt(l.H,e)}}}]);
//# sourceMappingURL=560.14deb4361673709c.js.map