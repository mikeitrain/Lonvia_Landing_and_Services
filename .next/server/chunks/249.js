"use strict";exports.id=249,exports.ids=[249],exports.modules={6560:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{A:()=>g});var r=s(8732),n=s(2015),i=s(8815),d=s(663),l=s(4989),o=s(1308),c=s(1576),m=s(4231),u=s(8335),x=s(8905),p=s(7582),h=e([u,x,p]);[u,x,p]=h.then?(await h)():h;let g=({caseData:e,onCaseUpdated:t,doctors:s=[]})=>{let{t:a,translateStatus:h,language:g}=(0,o.o)(),[f,b]=(0,n.useState)(e.admin_notes||""),[y,j]=(0,n.useState)(""),[v,N]=(0,n.useState)(""),[w,S]=(0,n.useState)(""),[k,A]=(0,n.useState)(30),[C,E]=(0,n.useState)(""),[O,I]=(0,n.useState)(""),$=()=>{let e=new Date;return new Date(e.getTime()+1728e5).toISOString().slice(0,16)},[T,D]=(0,n.useState)(!1),[L,_]=(0,n.useState)(""),[M,R]=(0,n.useState)("");(0,n.useEffect)(()=>{let e=!0;return(async()=>{try{let t=await (0,x.fetchAuthSession)(),s=t.tokens?.idToken?.payload,a=s?.["cognito:groups"]||[];e&&D(a.includes("admin"))}catch{e&&D(!1)}})(),()=>{e=!1}},[]);let B=c.c.toCaseStatus(e.status?.name||""),Z=B?c.c.getValidTransitions(B):[],P=!!B&&c.c.isActiveStatus(B),F=B===m.y.NEW,W=B===m.y.WAITING_FOR_PAYMENT,H=B===m.y.PAID;(0,n.useEffect)(()=>{b(e.admin_notes||"")},[e.id,e.admin_notes]);let U=async()=>{if(!e.id)return;let s=u.k.getInstance(),a={};a.admin_notes=f;let r=await s.updateCase(String(e.id),a);t&&t(r)},V=async()=>{if(!e.id||!y)return;let s=u.k.getInstance(),a={};a.status={id:0,name:y};let r=await s.updateCase(String(e.id),a);t&&t(r)},Y=async()=>{if(!e.id)return;let s=u.k.getInstance(),a=Number(L);if(!M||!a||a<=0)return;let r=await s.sendOffer({caseId:String(e.id)},{text:M,amount_gross:a});t&&t(r)},G=async()=>{if(!e.id)return;let s=u.k.getInstance(),a=await s.markInvoicePaid({caseId:String(e.id)});t&&t(a)},z=async()=>{if(!e.id)return;if(E(""),!v&&!w){E(a("case.details.appointmentError"));return}if(!O){E(a("case.details.doctorError"));return}let s=u.k.getInstance(),r=[];v&&r.push({scheduledStart:v,meetingStatus:"suggested",durationMinutes:k}),w&&r.push({scheduledStart:w,meetingStatus:"suggested",durationMinutes:k});let n={caseId:e.id,doctorId:O,suggestedAppointments:r},i=await s.suggestAppointment(n);t&&t(i),N(""),S(""),I("")};if(!T)return null;let q="w-48";return(0,r.jsxs)("div",{className:"mb-6 bg-background-secondary rounded-lg border border-border-primary p-4 space-y-4",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-foreground-primary",children:a("admin.panel.title")||"Admin Panel"}),(0,r.jsx)(i.A,{marginClass:"my-1"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[(0,r.jsxs)("div",{className:"md:col-span-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-foreground-secondary mb-1",children:a("case.details.notes")||"Notes"}),(0,r.jsx)("textarea",{className:"w-full input-field min-h-[80px] disabled:opacity-60 disabled:cursor-not-allowed",value:f,onChange:e=>b(e.target.value),disabled:!P})]}),(0,r.jsx)("div",{className:"md:col-span-1 flex md:justify-end",children:(0,r.jsx)("button",{disabled:!P,onClick:U,className:`bg-primary-600 text-white px-4 py-2 rounded-md font-medium hover:bg-primary-700 disabled:opacity-60 disabled:cursor-not-allowed ${q}`,children:a("common.save")||"Save"})})]}),(0,r.jsx)(i.A,{marginClass:"my-3"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[(0,r.jsxs)("div",{className:"md:col-span-3",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-foreground-secondary mb-1",children:a("offer.text")||"Offer text"}),(0,r.jsx)("textarea",{className:"w-full input-field min-h-[80px] disabled:opacity-60 disabled:cursor-not-allowed",value:M,onChange:e=>R(e.target.value),disabled:!F})]}),(0,r.jsx)("div",{className:"md:col-span-1 h-full",children:(0,r.jsx)(d.A,{label:a("offer.amount")||"Amount",value:L,onChange:e=>_(e.target.value),disabled:!F,placeholder:a("offer.amount")||"Amount"})}),(0,r.jsx)("div",{className:"md:col-span-1 flex md:justify-end",children:(0,r.jsx)("button",{disabled:!F,onClick:Y,className:`bg-primary-600 text-white px-4 py-2 rounded-md font-medium hover:bg-primary-700 disabled:opacity-60 disabled:cursor-not-allowed ${q}`,children:a("offer.send")||"Send offer"})})]}),(0,r.jsx)(i.A,{marginClass:"my-3"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[(0,r.jsx)("div",{className:"md:col-span-4"}),(0,r.jsx)("div",{className:"md:col-span-1 flex md:justify-end",children:(0,r.jsx)("button",{disabled:!W,onClick:G,className:`bg-primary-600 text-white px-4 py-2 rounded-md font-medium hover:bg-primary-700 disabled:opacity-60 disabled:cursor-not-allowed ${q}`,children:a("invoice.paid")||"Paid"})})]}),(0,r.jsx)("div",{className:"my-3 flex justify-center",children:(0,r.jsx)("div",{className:"h-[1px] w-full",style:{backgroundColor:"var(--border-secondary)"}})}),e.appointments&&e.appointments.length>0&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground-primary",children:a("case.details.existingAppointments")||"Existing Appointments"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.appointments.map(e=>{let t="accepted"===e.meetingStatus?"bg-green-100 border-green-300 text-green-800":"suggested"===e.meetingStatus?"bg-blue-100 border-blue-300 text-blue-800":"declined"===e.meetingStatus?"bg-red-100 border-red-300 text-red-800":"completed"===e.meetingStatus?"bg-gray-100 border-gray-300 text-gray-800":"canceled"===e.meetingStatus?"bg-orange-100 border-orange-300 text-orange-800":"bg-gray-100 border-gray-300 text-gray-800";return(0,r.jsx)("div",{className:`border rounded-lg p-4 ${t}`,children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"text-sm font-medium",children:[(0,p.Yq)(e.scheduledStart,g)," - ",(0,p.fU)(e.scheduledStart,g)]}),(0,r.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${t}`,children:e.meetingStatus})]}),(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[e.doctorName&&(0,r.jsx)("div",{className:"text-sm font-medium",children:e.doctorName}),(0,r.jsxs)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${t}`,children:[e.durationMinutes," min"]})]})]})},e.id)})})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[H&&(0,r.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:(0,r.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,r.jsx)("strong",{children:a("case.details.timezoneInfo.title")||"Hinweis:"})," ",a("case.details.timezoneInfo.message")||"Die eingegebene Zeit ist immer in deutscher Zeit (GMT+2)."]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-foreground-secondary mb-1",children:[a("case.details.appointmentDate")," 1"]}),(0,r.jsx)("input",{type:"datetime-local",className:`w-full input-field disabled:opacity-60 disabled:cursor-not-allowed ${C?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`,value:v,min:$(),onChange:e=>{N(e.target.value),C&&E("")},disabled:!H}),C&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:C})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-foreground-secondary mb-1",children:[a("case.details.appointmentDate")," 2"]}),(0,r.jsx)("input",{type:"datetime-local",className:"w-full input-field disabled:opacity-60 disabled:cursor-not-allowed",value:w,min:$(),onChange:e=>{S(e.target.value),C&&E("")},disabled:!H})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-foreground-secondary mb-1",children:a("case.details.duration")}),(0,r.jsxs)("select",{className:"w-full input-field disabled:opacity-60 disabled:cursor-not-allowed",value:k,onChange:e=>A(Number(e.target.value)),disabled:!H,children:[(0,r.jsx)("option",{value:10,children:a("case.details.durationOptions.10min")}),(0,r.jsx)("option",{value:15,children:a("case.details.durationOptions.15min")}),(0,r.jsx)("option",{value:20,children:a("case.details.durationOptions.20min")}),(0,r.jsx)("option",{value:30,children:a("case.details.durationOptions.30min")}),(0,r.jsx)("option",{value:45,children:a("case.details.durationOptions.45min")}),(0,r.jsx)("option",{value:60,children:a("case.details.durationOptions.60min")}),(0,r.jsx)("option",{value:90,children:a("case.details.durationOptions.90min")}),(0,r.jsx)("option",{value:120,children:a("case.details.durationOptions.120min")})]})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:(0,r.jsxs)("div",{className:"md:col-span-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-foreground-secondary mb-1",children:a("case.details.doctor")}),(0,r.jsxs)("select",{className:`w-full input-field disabled:opacity-60 disabled:cursor-not-allowed ${C?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`,value:O,onChange:e=>{I(e.target.value?Number(e.target.value):""),C&&E("")},disabled:!H,children:[(0,r.jsx)("option",{value:"",children:a("case.details.selectDoctor")}),s.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.user?.firstName," ",e.user?.lastName,e.title&&` (${e.title})`]},e.id))]})]})}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("button",{disabled:!H||!v&&!w||!O,onClick:z,className:`bg-primary-600 text-white px-4 py-2 rounded-md font-medium hover:bg-primary-700 disabled:opacity-60 disabled:cursor-not-allowed ${q}`,children:a("case.details.suggestAppointments")||"Suggest appointments"})})]}),(0,r.jsx)(i.A,{marginClass:"my-1"}),(0,r.jsx)(i.A,{marginClass:"my-1"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[(0,r.jsxs)("div",{className:"md:col-span-1",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-foreground-secondary mb-1",children:a("status.next")||"Next status"}),(0,r.jsxs)("select",{className:"input-field w-full disabled:opacity-60 disabled:cursor-not-allowed",value:y,onChange:e=>j(e.target.value),children:[(0,r.jsx)("option",{value:"",children:a("common.select")||"Select"}),Z.map(e=>(0,r.jsx)("option",{value:e,children:h(e)},e))]})]}),(0,r.jsx)("div",{className:"md:col-span-3",children:(0,r.jsxs)("div",{className:"flex items-start gap-2 bg-warning-50 text-warning-800 border border-warning-300 rounded-md p-3",children:[(0,r.jsx)(l.A,{className:"h-5 w-5 text-warning-600 mt-0.5"}),(0,r.jsx)("p",{className:"text-sm",children:a("admin.status.manualChangeWarning")||"This action should only be used in special cases. Normally, the status changes automatically."})]})}),(0,r.jsx)("div",{className:"md:col-span-1 flex md:justify-end",children:(0,r.jsx)("button",{onClick:V,className:`bg-primary-600 text-white px-4 py-2 rounded-md font-medium hover:bg-primary-700 disabled:opacity-60 disabled:cursor-not-allowed ${q}`,children:a("status.set")||"Set status"})})]})]})};a()}catch(e){a(e)}})},1902:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{l:()=>S});var r=s(8732),n=s(2015),i=s(6907),d=s(1308),l=s(7582),o=s(1576),c=s(4750),m=s(5326),u=s(2390),x=s(8335),p=s(9582),h=s(6560),g=s(5876),f=s(8446),b=s(2317),y=s(1981),j=s(1360),v=s(1833),N=s(4231),w=e([i,l,u,x,h,g]);[i,l,u,x,h,g]=w.then?(await w)():w;let S=({caseData:e,onUpdated:t,doctors:s=[]})=>{let{userGroups:a}=(0,i.A)(),{language:w,t:S,translateSymptomSeverity:k,translateSymptomDuration:A,translateStatus:C,translateGender:E}=(0,d.o)(),[O,I]=(0,n.useState)({isOpen:!1,attachment:null}),[$,T]=(0,n.useState)(e.attachments||[]),[D,L]=(0,n.useState)(e),[_,M]=(0,n.useState)(!1),[R,B]=(0,n.useState)(null),[Z,P]=(0,n.useState)(!1),[F,W]=(0,n.useState)(!1),[H,U]=(0,n.useState)(null);(0,n.useEffect)(()=>{T(e.attachments||[])},[e.attachments]),(0,n.useEffect)(()=>{M(!!Array.isArray(a)&&(a.includes("admin")||a.includes("patient")))},[a]);let V=!!Array.isArray(a)&&a.includes("patient"),Y=o.c.extractStatus(D.status)===N.y.OFFER_SENT,G=(D.documents||[]).find(e=>"offer"===String(e.doc_type||"").toLowerCase()),z=e=>{I({isOpen:!0,attachment:e})},q=async()=>{try{if(O.attachment&&O.attachment.id&&D.id){let e=x.k.getInstance();await e.deleteAttachment({attachmentId:String(O.attachment.id),caseId:"number"==typeof D.id?D.id:Number(D.id)}),T(e=>e.filter(e=>e.id!==O.attachment.id))}}finally{I({isOpen:!1,attachment:null})}},K=e=>{switch(e){case"DICOM":return S("case.details.download");case"Link":return S("case.details.open");default:return S("case.details.view")}},J=async e=>{if(!e.id||!D.id)return;let t=x.k.getInstance(),{url:s}=await t.getAttachmentUrl({attachmentId:String(e.id),caseId:"number"==typeof D.id?D.id:Number(D.id)});window.open(s,"_blank","noopener,noreferrer")},Q=async e=>{if(D.id){B(e);try{let t=x.k.getInstance(),{url:s}=await t.getDocumentUrl({caseId:String(D.id),docType:e}),a=document.createElement("a");a.href=s,a.download="",document.body.appendChild(a),a.click(),a.remove()}finally{B(null)}}},X=async()=>{if(D.id){W(!0);try{let e=x.k.getInstance(),s=await e.acceptOffer(String(D.id));L(s),T(s.attachments||[]),t&&t(s)}finally{W(!1)}}},ee=async()=>{if(D.id&&H){W(!0);try{let e=x.k.getInstance(),s=await e.acceptAppointment(String(H),String(D.id));L(s),T(s.attachments||[]),t&&t(s)}finally{W(!1)}}},et=async()=>{if(D.id){W(!0);try{let e=x.k.getInstance(),s=await e.declineAppointment(String(D.id));L(s),T(s.attachments||[]),t&&t(s)}finally{W(!1)}}},[es,ea]=(0,n.useState)(!1),[er,en]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{},[e.id]),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,r.jsxs)("h1",{className:"text-2xl font-bold text-foreground-primary",children:["Case ",D.id]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("button",{type:"button",onClick:()=>en(!0),className:"text-sm text-primary-600 hover:underline",children:S("status.moreInfo")||"Click here for more information"}),(0,r.jsx)("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium shadow-sm min-w-[100px] justify-center ${(e=>{let t=o.c.extractStatus(e);return t?o.c.getStatusColorClasses(t):"status-neutral"})(D.status)}`,children:(e=>{let t=o.c.extractStatus(e);if(t)return C(t);let s=null;return"string"==typeof e?s=e:e&&"object"==typeof e&&"name"in e&&(s="string"==typeof e.name?e.name:null),s?s.replace(/_/g," "):S("status.unknown")||"Unknown"})(D.status)})]})]}),(0,r.jsx)(h.A,{caseData:D,doctors:s,onCaseUpdated:e=>{L(e),T(e.attachments||[]),t&&t(e)}}),(0,r.jsx)(g.O,{caseData:D}),_&&D.documents&&D.documents.length>0&&(0,r.jsxs)("div",{className:"mb-6 bg-background-secondary rounded-lg border border-border-primary p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-foreground-primary mb-4",children:S("case.details.receipts")||"Documents"}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:D.documents.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center justify-between bg-neutral-50 rounded-md p-4 border border-border-primary",children:[(0,r.jsxs)("div",{className:"flex-1 mr-4",children:[(0,r.jsx)("div",{className:"text-xs font-bold text-foreground-tertiary mb-1",children:(0,c.o)(e.doc_type,S)}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"shrink-0 text-primary-600",children:(0,r.jsx)(f.A,{className:"w-10 h-10"})}),(0,r.jsx)("div",{className:"text-foreground-secondary text-sm",children:e.doc_no})]})]}),(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("button",{onClick:()=>Q(e.doc_type),disabled:R===e.doc_type,className:"bg-primary-600 text-white px-3 py-2 rounded-md text-sm font-medium hover:bg-primary-700 transition-colors disabled:opacity-60 inline-flex items-center gap-2",children:(0,r.jsx)(b.A,{className:"w-4 h-4"})})})]},`${e.doc_no||t}`))})]}),V&&Y&&(0,r.jsx)("div",{className:"m-6 flex justify-center",children:(0,r.jsx)("button",{type:"button",onClick:()=>P(!0),className:"bg-accent-500 hover:bg-accent-600 text-white px-6 py-2 rounded-md font-medium transition-colors",children:S("case.details.acceptOffer")||"Accept offer"})}),D.status?.name===N.y.TIMESLOTS_SENT&&D.appointments&&(0,r.jsxs)("div",{className:"mb-6 bg-background-secondary rounded-lg border border-border-primary p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-foreground-primary mb-4",children:S("case.details.suggestedTimeslots")||"Suggested Timeslots"}),(0,r.jsx)("div",{className:"flex flex-wrap justify-center gap-3 mb-6",children:D.appointments.filter(e=>"suggested"===e.meetingStatus).map(e=>{let t=new Date(e.scheduledStart||""),s=H===e.id;return(0,r.jsxs)("button",{onClick:()=>{a?.includes("patient")&&U(s?null:e.id||null)},disabled:!a?.includes("patient"),className:`
                      px-4 py-3 rounded-lg border-2 text-center min-w-[200px] transition-all duration-200
                      ${s?"border-primary-500 bg-primary-50 text-primary-700":"border-border-secondary bg-background-primary text-foreground-primary hover:border-primary-300"}
                      ${a?.includes("patient")?"cursor-pointer hover:shadow-md":"cursor-default opacity-75"}
                    `,children:[(0,r.jsx)("div",{className:"font-medium",children:t.toLocaleDateString("ro"===w?"ro-RO":"de"===w?"de-DE":"en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric",timeZone:"ro"===w?"Europe/Bucharest":"de"===w?"Europe/Berlin":"Europe/London"})}),(0,r.jsx)("div",{className:"text-sm text-foreground-secondary",children:t.toLocaleTimeString("ro"===w?"ro-RO":"de"===w?"de-DE":"en-GB",{hour:"2-digit",minute:"2-digit",timeZone:"ro"===w?"Europe/Bucharest":"de"===w?"Europe/Berlin":"Europe/London"})}),(0,r.jsxs)("div",{className:"text-xs text-foreground-secondary mt-1",children:[S("case.details.duration")||"Duration",": ",e.durationMinutes||30," min"]})]},e.id)})}),a?.includes("patient")&&(0,r.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,r.jsx)("button",{onClick:et,disabled:F,className:`
                  px-6 py-3 rounded-lg font-medium transition-all duration-200 border-2
                  ${F?"border-gray-300 text-gray-400 cursor-not-allowed":"border-red-500 text-red-600 hover:bg-red-50 hover:border-red-600"}
                `,children:F?S("common.working")||"Working...":S("case.details.declineTimeslot")||"Decline"}),(0,r.jsx)("button",{onClick:ee,disabled:!H||F,className:`
                  px-6 py-3 rounded-lg font-medium transition-all duration-200
                  ${H&&!F?"bg-primary-600 text-white hover:bg-primary-700 shadow-md":"bg-gray-300 text-gray-500 cursor-not-allowed"}
                `,children:F?S("common.working")||"Working...":S("case.details.acceptTimeslot")||"Accept Timeslot"})]})]}),o.c.extractStatus(D.status)===N.y.ARRANGED&&D.appointments&&(0,r.jsx)("div",{className:"mb-6 bg-green-50 border-2 border-green-200 rounded-lg p-6",children:(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,r.jsx)(y.A,{className:"w-5 h-5 text-green-600"})})}),(0,r.jsxs)("div",{className:"ml-4 flex-1",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:S("case.details.appointmentArranged.title")}),D.appointments.filter(e=>"accepted"===e.meetingStatus||"arranged"===e.meetingStatus).map(e=>{let t=new Date(e.scheduledStart||"");return(0,r.jsxs)("div",{className:"bg-white rounded-md p-4 mb-4 border border-green-200",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-green-700 mb-1",children:S("case.details.appointmentArranged.date")}),(0,r.jsx)("div",{className:"text-green-800",children:t.toLocaleDateString("ro"===w?"ro-RO":"de"===w?"de-DE":"en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric",timeZone:"ro"===w?"Europe/Bucharest":"de"===w?"Europe/Berlin":"Europe/London"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-green-700 mb-1",children:S("case.details.appointmentArranged.time")}),(0,r.jsx)("div",{className:"text-green-800",children:t.toLocaleTimeString("ro"===w?"ro-RO":"de"===w?"de-DE":"en-GB",{hour:"2-digit",minute:"2-digit",timeZone:"ro"===w?"Europe/Bucharest":"de"===w?"Europe/Berlin":"Europe/London"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-green-700 mb-1",children:S("case.details.appointmentArranged.duration")}),(0,r.jsxs)("div",{className:"text-green-800",children:[e.durationMinutes||30," min"]})]})]}),e.meetingUrl&&(0,r.jsxs)("div",{className:"mt-4 pt-4 border-t border-green-200",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-green-700 mb-2",children:"Meeting Link:"}),(0,r.jsxs)("a",{href:e.meetingUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-md hover:bg-green-700 transition-colors",children:[(0,r.jsx)(j.A,{className:"w-4 h-4 mr-2"}),"Join Meeting"]})]})]},e.id)}),(0,r.jsx)("div",{className:"text-green-700 text-sm leading-relaxed",children:S("case.details.appointmentArranged.message")})]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsxs)("div",{className:"bg-background-secondary rounded-lg border border-border-primary p-6 h-full",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-foreground-primary mb-4",children:D.has_diagnosis?S("case.details.diagnosis"):S("case.details.medicalForm")}),(0,r.jsx)("div",{className:"space-y-4",children:D.has_diagnosis?(0,r.jsx)(v.A,{items:($||[]).filter(e=>e.is_diagnosis).map((e,t)=>({id:String(e.id||t),label:"Link"===e.type.name?e.description||e.url||`Link ${t+1}`:e.originalName||`Document ${t+1}`,typeName:e.type.name,showDelete:!e.is_diagnosis,metaRight:(0,l.Yq)(e.createdAt,w)})),showOpen:!0,openText:e=>{let t=($||[]).find(t=>String(t.id)===String(e.id))?.type?.name||"";return K(t)},onOpen:e=>{let t=($||[]).find(t=>String(t.id)===String(e));t&&J(t)},deleteText:S("case.details.delete")||"Delete"}):(0,r.jsx)(r.Fragment,{children:D.symptoms&&D.symptoms.length>0?D.symptoms.map((e,t)=>(0,r.jsxs)("div",{className:"bg-neutral-50 rounded-md p-4 border border-border-primary",children:[(0,r.jsx)("div",{className:"font-medium text-foreground-primary mb-1",children:`${S("case.details.symptom")} ${t+1} - ${k(e.severity)} (${A(e.duration)})`}),(0,r.jsx)("div",{className:"text-foreground-secondary",children:e.description||S("case.details.answerOfUser")})]},t)):(0,r.jsx)("div",{className:"text-center py-8 text-foreground-tertiary",children:(0,r.jsx)("p",{className:"text-sm",children:"No symptoms recorded"})})})})]})}),(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsxs)("div",{className:"bg-background-secondary rounded-lg border border-border-primary p-6 h-full",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-foreground-primary mb-4",children:S("case.details.notes")}),(0,r.jsx)("div",{className:"bg-neutral-50 rounded-md p-4 min-h-[200px] border border-border-primary",children:(0,r.jsx)("textarea",{className:"w-full h-full bg-transparent border-none outline-none resize-none text-foreground-secondary placeholder-foreground-tertiary",placeholder:S("case.details.notesPlaceholder"),defaultValue:D.case_notes||"",rows:8})})]})}),(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsxs)("div",{className:"bg-background-secondary rounded-lg border border-border-primary p-6 h-full",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-foreground-primary mb-4",children:S("case.details.documents")}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(v.A,{items:($||[]).filter(e=>!e.is_diagnosis).map((e,t)=>({id:String(e.id||t),label:"Link"===e.type.name?e.description||e.url||`Link ${t+1}`:e.originalName||`Document ${t+1}`,typeName:e.type.name,showDelete:!e.is_diagnosis,metaRight:(0,l.Yq)(e.createdAt,w)})),showOpen:!0,openText:e=>{let t=($||[]).find(t=>String(t.id)===String(e.id))?.type?.name||"";return K(t)},onOpen:e=>{let t=($||[]).find(t=>String(t.id)===String(e));t&&J(t)},onDelete:e=>{let t=($||[]).find(t=>String(t.id)===String(e));t&&z(t)},deleteText:S("case.details.delete")||"Delete"}),(0,r.jsx)("div",{className:"flex justify-end pt-4",children:(0,r.jsx)("button",{onClick:()=>ea(!0),className:"bg-primary-600 text-white px-6 py-2 rounded-md font-medium hover:bg-primary-700 transition-colors",children:S("case.details.upload")})})]})]})}),(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsxs)("div",{className:"bg-background-secondary rounded-lg border border-border-primary p-6 h-full",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-foreground-primary mb-4",children:S("case.details.infos")}),(0,r.jsxs)("div",{className:"bg-neutral-50 rounded-md p-4 space-y-3 border border-border-primary",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"font-medium text-foreground-primary",children:S("case.details.customerName")}),(0,r.jsx)("span",{className:"text-foreground-secondary",children:D.customer?`${D.customer.firstName||""} ${D.customer.lastName||""}`.trim()||S("demographic.notProvided"):S("demographic.userNotFound")})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"font-medium text-foreground-primary",children:S("case.details.appointmentDate")}),(0,r.jsx)("span",{className:"text-foreground-secondary",children:"25.08.2025"})]}),(0,r.jsx)("hr",{className:"border-border-primary"}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"font-medium text-foreground-primary",children:S("case.details.gender")}),(0,r.jsx)("span",{className:"text-foreground-secondary",children:D.customer?.gender?E(D.customer.gender):S("demographic.notProvided")})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"font-medium text-foreground-primary",children:S("case.details.height")}),(0,r.jsx)("span",{className:"text-foreground-secondary",children:D.customer?.height?`${D.customer.height}cm`:S("demographic.notProvided")})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"font-medium text-foreground-primary",children:S("case.details.weight")}),(0,r.jsx)("span",{className:"text-foreground-secondary",children:D.customer?.weight?`${D.customer.weight}kg`:S("demographic.notProvided")})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"font-medium text-foreground-primary",children:S("case.details.dateOfBirth")}),(0,r.jsx)("span",{className:"text-foreground-secondary",children:D.customer?.dateOfBirth?(()=>{let e="string"==typeof D.customer.dateOfBirth?D.customer.dateOfBirth:D.customer.dateOfBirth.toISOString();return(0,l.Yq)(e,w)})():S("demographic.notProvided")})]}),(0,r.jsx)("hr",{className:"border-border-primary"})]})]})})]}),(0,r.jsx)(m.R,{isOpen:O.isOpen,onClose:()=>I({isOpen:!1,attachment:null}),onConfirm:q,title:S("case.details.deleteConfirmTitle"),message:S("case.details.deleteConfirm")}),(0,r.jsx)(m.R,{isOpen:Z,onClose:()=>P(!1),onConfirm:X,title:S("case.details.acceptOfferTitle")||"Accept offer",message:S("case.details.acceptOfferMessage")||`Do you want to accept the offer${G?.doc_no?` ${G.doc_no}`:""}? By accepting, you confirm that you have read and understood the offer.`,confirmText:F?S("common.working")||"Working...":S("case.details.acceptOffer")||"Accept offer",cancelText:S("case.details.cancel")||"Cancel"}),(0,r.jsx)(u.A,{isOpen:es,onClose:()=>ea(!1),caseId:"number"==typeof D.id?D.id:D.id?Number(D.id):void 0,onUploaded:async()=>{if(!D.id)return;let e=x.k.getInstance(),t=await e.getCaseById(String(D.id));T(t.attachments||[])}}),(0,r.jsx)(p.A,{isOpen:er,onClose:()=>en(!1),currentStatus:o.c.extractStatus(D.status)})]})};a()}catch(e){a(e)}})},2662:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{A:()=>u});var r=s(8732);s(2015);var n=s(1308),i=s(1576),d=s(9269),l=s(8446),o=s(9674),c=s(7835),m=e([d]);d=(m.then?(await m)():m)[0];let u=({cases:e,onCaseClick:t,className:s="",viewMode:a="standard"})=>{let{t:m,translateStatus:u}=(0,n.o)(),{isLoading:x}=(0,d.r)(),p=e=>{if(!e||!e.name)return"status-neutral";let t=i.c.toCaseStatus(e.name);return t?i.c.getStatusColorClasses(t):"status-neutral"},h=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),g=e=>{if(!e||!e.name)return m("status.unknown")||"Unknown";let t=i.c.toCaseStatus(e.name);return t?u(t):e.name.replace(/_/g," ")},f=e=>{if(e.has_diagnosis)return m("case.details.withExistingDiagnosis")||"With an existing diagnosis";if(e.description&&e.description.trim())return e.description;if(e.symptoms&&e.symptoms.length>0){let t=e.symptoms[0];if(t.description&&t.description.trim()){let e=t.description.trim();return e.length>100?`${e.substring(0,100)}...`:e}}if(e.case_notes&&e.case_notes.trim()){let t=e.case_notes.trim();return t.length>100?`${t.substring(0,100)}...`:t}return m("case.noDescription")||"No description"},b=e=>{if(!e.appointments||0===e.appointments.length)return null;let t=e.appointments.filter(e=>e.scheduledStart).sort((e,t)=>{let s=e.scheduledStart?new Date(e.scheduledStart).getTime():0;return(t.scheduledStart?new Date(t.scheduledStart).getTime():0)-s});return t.length>0?t[0]:null},y=e=>{if(!e)return"";if(e<60)return`${e} min`;let t=Math.floor(e/60),s=e%60;return 0===s?`${t} ${1===t?"hour":"hours"}`:`${t}h ${s}min`},j=e=>e.customer?.firstName&&e.customer?.lastName?`${e.customer.firstName} ${e.customer.lastName}`:e.customer?.firstName?e.customer.firstName:e.customer?.lastName?e.customer.lastName:m("case.details.customerName")?.replace(":","")||"Customer";return x?(0,r.jsx)("div",{className:`text-center py-12 ${s}`,children:(0,r.jsxs)("div",{className:"text-foreground-tertiary",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground-primary mb-2",children:m("common.loading")||"Loading cases..."}),(0,r.jsx)("p",{className:"text-sm text-foreground-secondary",children:m("case.loadingDescription")||"Please wait while we fetch your cases."})]})}):0===e.length?(0,r.jsx)("div",{className:`text-center py-12 ${s}`,children:(0,r.jsxs)("div",{className:"text-foreground-tertiary",children:[(0,r.jsx)(l.A,{className:"mx-auto h-16 w-16 text-foreground-tertiary mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground-primary mb-2",children:m("case.noCases")||"No cases found"}),(0,r.jsx)("p",{className:"text-sm text-foreground-secondary",children:m("case.noCasesDescription")||"Get started by creating your first case."})]})}):(0,r.jsx)("div",{className:`space-y-4 ${s}`,children:e.map(e=>(0,r.jsx)("div",{className:`bg-background-primary border border-border-primary rounded-lg p-6 hover:shadow-lg transition-all duration-200 ${t?"cursor-pointer hover:border-border-secondary":""}`,onClick:()=>t?.(e.id?.toString()||""),children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:["arranged"!==a&&(0,r.jsx)("div",{className:"flex items-center space-x-3 mb-3",children:(0,r.jsx)("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium shadow-sm min-w-[100px] justify-center ${p(e.status)}`,children:g(e.status)})}),"arranged"===a?(0,r.jsxs)(r.Fragment,{children:[(()=>{let t=b(e);return(0,r.jsxs)("div",{className:"flex items-center gap-4 text-sm text-foreground-secondary mb-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{className:"font-medium text-foreground-primary",children:[m("case.details.appointmentArranged.date")||"Appointment Date",":"]})," ",t?.scheduledStart?h(t.scheduledStart):h(e.createdAt||"")]}),t?.durationMinutes&&(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(o.A,{className:"w-4 h-4 text-foreground-tertiary"}),(0,r.jsxs)("span",{className:"font-medium text-foreground-primary",children:[m("case.details.duration")||"Duration",":"]})," ",y(t.durationMinutes)]})]})})(),(0,r.jsx)("div",{className:"text-base text-foreground-primary font-medium mb-2",children:j(e)})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"text-base text-foreground-primary font-medium mb-2",children:f(e)}),(e.duration||e.severity)&&(0,r.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-foreground-secondary",children:[e.duration&&(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(o.A,{className:"w-4 h-4 text-foreground-tertiary"}),(0,r.jsxs)("span",{children:[m("case.duration")||"Duration",": ",e.duration]})]}),e.severity&&(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(c.A,{className:"w-4 h-4 text-foreground-tertiary"}),(0,r.jsxs)("span",{children:[m("case.severity")||"Severity",": ",e.severity]})]})]})]})]}),(0,r.jsx)("div",{className:"flex-shrink-0 ml-4 text-right",children:"arranged"===a?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium shadow-sm min-w-[100px] justify-center text-foreground-primary ${p(e.status)}`,children:g(e.status)})})}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"text-sm text-foreground-tertiary",children:[(0,r.jsx)("div",{className:"font-medium text-foreground-primary",children:m("case.created")||"Created"}),(0,r.jsx)("div",{className:"text-foreground-tertiary",children:h(e.createdAt||"")})]})})})]})},e.id))})};a()}catch(e){a(e)}})},5876:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{O:()=>c});var r=s(8732);s(2015);var n=s(6907),i=s(1308),d=s(5438),l=s(4231),o=e([n]);n=(o.then?(await o)():o)[0];let c=({caseData:e})=>{let{userGroups:t}=(0,n.A)(),{t:s}=(0,i.o)();return(0,r.jsxs)(r.Fragment,{children:[t?.includes("patient")&&e.status?.name===l.y.WAITING_FOR_PAYMENT&&(0,r.jsx)("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-6",children:(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(d.A,{className:"h-5 w-5 text-blue-400"})}),(0,r.jsxs)("div",{className:"ml-3 flex-1",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:s("case.details.paymentWarning.title")||"Payment Required"}),(0,r.jsx)("div",{className:"mt-2 text-sm text-blue-700",children:(0,r.jsx)("p",{children:s("case.details.paymentWarning.message")||"Please pay the invoice to continue with your case. You received the invoice via email. You can also download the invoice below."})}),(0,r.jsx)("div",{className:"mt-3 text-xs text-blue-600",children:(0,r.jsx)("p",{children:s("case.details.paymentWarning.alreadyPaid")||"Already paid? This info will disappear once payment is confirmed."})})]})]})}),t?.includes("patient")&&e.status?.name===l.y.OFFER_SENT&&(0,r.jsx)("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-6",children:(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(d.A,{className:"h-5 w-5 text-green-400"})}),(0,r.jsxs)("div",{className:"ml-3 flex-1",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-green-800",children:s("case.details.offerInfo.title")||"Offer Received"}),(0,r.jsx)("div",{className:"mt-2 text-sm text-green-700",children:(0,r.jsx)("p",{children:s("case.details.offerInfo.message")||"Please read the offer carefully. You received it via email or you can download it below. You need to accept it to continue."})}),(0,r.jsx)("div",{className:"mt-3 text-xs text-green-600",children:(0,r.jsx)("p",{children:s("case.details.offerInfo.validity")||"The offer is valid for 2 weeks."})})]})]})}),t?.includes("patient")&&e.status?.name===l.y.TIMESLOTS_SENT&&(0,r.jsx)("div",{className:"mb-6 bg-purple-50 border border-purple-200 rounded-lg p-6",children:(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(d.A,{className:"h-5 w-5 text-purple-400"})}),(0,r.jsxs)("div",{className:"ml-3 flex-1",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-purple-800",children:s("case.details.timeslotsInfo.title")||"Choose Your Appointment"}),(0,r.jsx)("div",{className:"mt-2 text-sm text-purple-700",children:(0,r.jsx)("p",{children:s("case.details.timeslotsInfo.message")||"Please select one of the suggested appointment times below to continue with your case."})})]})]})})]})};a()}catch(e){a(e)}})},5326:(e,t,s)=>{s.d(t,{R:()=>n});var a=s(8732);s(2015);var r=s(1308);let n=({isOpen:e,onClose:t,onConfirm:s,title:n,message:i,confirmText:d,cancelText:l})=>{let{t:o}=(0,r.o)();return e?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:t}),(0,a.jsxs)("div",{className:"relative bg-background-primary rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-foreground-primary",children:n})}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("p",{className:"text-foreground-secondary",children:i})}),(0,a.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,a.jsx)("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-foreground-secondary bg-background-secondary border border-border-primary rounded-md hover:bg-background-tertiary transition-colors",children:l||o("case.details.cancel")}),(0,a.jsx)("button",{onClick:()=>{s(),t()},className:"px-4 py-2 text-sm font-medium text-white border border-accent-600 rounded-md bg-accent-500 hover:bg-accent-600 transition-colors",children:d||o("case.details.delete")})]})]})]}):null}},663:(e,t,s)=>{s.d(t,{A:()=>i,h:()=>n});var a=s(8732),r=s(8641);let n=({label:e,name:t,register:s,error:n,required:i=!1,tooltip:d,validation:l={},className:o="",currency:c="LEI",placeholder:m,disabled:u=!1})=>(0,a.jsxs)("div",{className:`mb-4 ${o}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsxs)("label",{className:"block text-base font-medium text-heading mb-2",children:[e,i&&(0,a.jsx)("span",{className:"text-error-500 ml-1",children:"*"})]}),d&&(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("span",{className:"cursor-help text-foreground-tertiary hover:text-foreground-secondary",children:(0,a.jsx)(r.A,{className:"w-4 h-4"})}),(0,a.jsx)("div",{className:"absolute z-10 invisible group-hover:visible bg-neutral-900 text-white text-sm rounded p-2 bottom-full mb-1 w-48",children:d})]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"number",min:"0",step:"0.01",placeholder:m,disabled:u,...s(t,{min:{value:0,message:"Amount must be positive"},...l||{}}),className:"w-full input-field [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none disabled:opacity-60 disabled:cursor-not-allowed"}),(0,a.jsxs)("div",{className:"absolute top-2 right-0 flex items-center pr-3",children:[(0,a.jsx)("div",{className:"h-6 border-l border-slate-200 mr-2"}),(0,a.jsx)("span",{className:"h-full text-sm flex justify-center items-center text-slate-700 focus:outline-none",children:c})]})]}),n&&(0,a.jsx)("p",{className:"mt-2 text-sm text-error-600",children:n})]}),i=({label:e,name:t,value:s,onChange:n,error:i,required:d=!1,tooltip:l,className:o="",currency:c="LEI",placeholder:m,disabled:u=!1})=>(0,a.jsxs)("div",{className:`mb-4 ${o}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsxs)("label",{className:"block text-base font-medium text-heading mb-2",children:[e,d&&(0,a.jsx)("span",{className:"text-error-500 ml-1",children:"*"})]}),l&&(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("span",{className:"cursor-help text-foreground-tertiary hover:text-foreground-secondary",children:(0,a.jsx)(r.A,{className:"w-4 h-4"})}),(0,a.jsx)("div",{className:"absolute z-10 invisible group-hover:visible bg-neutral-900 text-white text-sm rounded p-2 bottom-full mb-1 w-48",children:l})]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"number",min:"0",step:"0.01",placeholder:m,disabled:u,value:s,onChange:n,name:t,className:"w-full input-field [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none disabled:opacity-60 disabled:cursor-not-allowed"}),(0,a.jsxs)("div",{className:"absolute top-2 right-0 flex items-center pr-3",children:[(0,a.jsx)("div",{className:"h-6 border-l border-slate-200 mr-2"}),(0,a.jsx)("span",{className:"h-full text-sm flex justify-center items-center text-slate-700 focus:outline-none",children:c})]})]}),i&&(0,a.jsx)("p",{className:"mt-2 text-sm text-error-600",children:i})]})},3511:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{O:()=>c});var r=s(8732),n=s(2015),i=s(6715),d=s(6907),l=s(1308),o=e([d]);d=(o.then?(await o)():o)[0];let c=({children:e})=>{let{isAuthenticated:t,loading:s}=(0,d.A)(),a=(0,i.useRouter)(),{t:o}=(0,l.o)();return((0,n.useEffect)(()=>{s||t||a.push("/auth/login")},[t,s,a]),s)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background-secondary",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-body",children:o("common.loading")})]})}):t?(0,r.jsx)(r.Fragment,{children:e}):null};a()}catch(e){a(e)}})},9582:(e,t,s)=>{s.d(t,{A:()=>c});var a=s(8732),r=s(2015),n=s(4563),i=s(1308),d=s(1576),l=s(4231);let o=e=>d.c.getValidTransitions(e),c=({isOpen:e,onClose:t,currentStatus:s})=>{let{t:c}=(0,i.o)(),m=(0,r.useMemo)(()=>[l.y.NEW,l.y.OFFER_SENT,l.y.WAITING_FOR_PAYMENT,l.y.PAID,l.y.TIMESLOTS_SENT,l.y.ARRANGED,l.y.IN_CONSULTATION,l.y.FINISHED,l.y.DECLINED],[]),u=s?o(s):[],x=(0,r.useMemo)(()=>Math.ceil(8*Math.max(...m.map(e=>c(d.c.statusToTranslationKey(e))).map(e=>e.length))+24),[c,m]);return(0,a.jsx)(n.A,{isOpen:e,onClose:t,size:"lg",title:c("status.flowTitle")||"Status flow",children:(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsx)("div",{className:"text-sm text-foreground-secondary",children:c("status.setByAdmin")}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-foreground-secondary mb-3",children:c("status.flowOverview")||"Overview of statuses and their meaning:"}),(0,a.jsx)("ol",{className:"grid gap-3 m-0 p-0 list-none",children:m.map(e=>{let t=d.c.getStatusInfo(e),r=d.c.getStatusColorClasses(e),n=s===e,i=u.includes(e);return(0,a.jsxs)("li",{className:"grid grid-cols-[24px_1fr] gap-3 items-stretch relative",children:[(0,a.jsxs)("div",{className:"relative flex items-stretch justify-center",children:[(0,a.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 top-0 bottom-0 w-0.5 bg-border-primary"}),(0,a.jsx)("div",{className:`absolute left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2 w-2.5 h-2.5 rounded-full ${n?"bg-primary-600 ring-4 ring-primary-600/20":"bg-foreground-tertiary ring-4 ring-white"}`})]}),(0,a.jsx)("div",{className:`w-full min-h-[72px] bg-background-primary border border-border-primary rounded-xl shadow-sm p-4 ${i?"ring-1 ring-primary-600/50":""}`,children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium shrink-0 justify-center ${r}`,style:{width:x?`${x}px`:void 0},children:c(d.c.statusToTranslationKey(e))}),(0,a.jsx)("span",{className:"text-sm text-foreground-secondary",children:c(`status.flow.${e.toLowerCase()}`)||t.description})]})})]},e)})})]})]})})}},4750:(e,t,s)=>{s.d(t,{o:()=>a});function a(e,t){if(!e)return"";let s=String(e).trim().toLowerCase();switch(s){case"offer":return t("documents.offer")||"Offer";case"invoice":return t("documents.invoice")||"Invoice";default:return s?s.charAt(0).toUpperCase()+s.slice(1).toLowerCase():""}}},2317:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(2015);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))})},7835:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(2015);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))})},1981:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(2015);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))})},9674:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(2015);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},8446:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(2015);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))})},1360:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(2015);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))})}};
//# sourceMappingURL=249.js.map