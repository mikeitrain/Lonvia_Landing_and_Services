{"version":3,"file":"../pages/doctor/panel.js","mappings":"4fASA,MAAe,OAAK,CAAC,EAAQ,UAAY,CAElC,CAFmC,CAEZ,OAAK,CAAC,EAAQ,kBACrC,EAAuB,OAAK,CAAC,EAAQ,SAHf,SAItB,EAA2B,OAAK,CAAC,EAAQ,EAFJ,oBAGrC,EAAe,OAAK,CAAC,EAAQ,UAC7B,EAAwB,OAAK,CAAC,EAAQ,MAFG,aAIzC,EAAgC,OAAK,CAAC,EAAQ,SAHjB,kBAI7B,EAAgC,EAHM,CAGN,IAAK,CAAC,EAAQ,uBADA,IAE9C,EAAiC,OAAK,CAAC,EAAQ,uBADD,KAE9C,EAAgC,OAAK,CAAC,EAAQ,sBADC,KAE/C,EAAoC,OAAK,CAAC,EAAQ,uBADJ,QAG9C,MAAwB,kBAAgB,EAC/C,KAHyD,MAGzD,CACA,KAAc,GAAS,OACvB,qBACA,yBAEA,cACA,WACA,CAAK,CACL,YAEA,IAAa,SAAW,CACxB,SAAkB,SAAgB,CAC7B,CACL,QAAY,EACZ,CAAC,qLC1BM,IAAMA,EAA0C,CAAC,UAAEC,CAAQ,CAAE,IAClE,IAAMC,EAASC,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,GAClB,GAAEC,CAAC,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,CAAWA,GACnB,CAACC,EAAeC,EAAiB,CAAGC,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,EAAC,GAmBnD,MAjBAC,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,CAAC,KAcRC,CAbc,UACZ,GAAI,CACF,IAAMC,EAAU,MAAMC,CAAAA,EAAAA,EAAAA,gBAAAA,CAAgBA,GAChCC,EAAYF,EAAQG,MAAM,EAAEC,SAASC,QAE3C,GAAI,CAACC,CADU,GAAY,CAAC,iBAAiB,EAA6B,IAC9DC,QAAQ,CAAC,UAAW,CAC9BhB,EAAOiB,OAAO,CAAC,iBACf,MACF,CACF,QAAU,CACRZ,GAAiB,EACnB,EACF,GAEF,EAAG,CAACL,EAAO,EAGT,UAACkB,EAAAA,CAAcA,CAAAA,UACZd,EACC,UAACe,MAAAA,CAAIC,UAAU,iFACb,WAACD,MAAAA,CAAIC,UAAU,wBACb,UAACD,MAAAA,CAAIC,UAAU,mFACf,UAACC,IAAAA,CAAED,UAAU,qBAAalB,EAAE,yBAIhC,+BAAGH,KAIX,EAAE,8JCtCK,IAAMuB,EAA0D,CAAC,OACtEC,CAAK,aACLC,CAAW,CACZ,IACC,GAAM,CAAEC,UAAQ,CAAEvB,GAAC,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,CAAWA,GAC7B,CAACuB,EAAcC,EAAgB,CAAGrB,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,CAAC,IAAIsB,MAM/C,CAACC,EAAcC,EAAgB,CAAGxB,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,CAAcyB,CAJ7C,KACf,IAAMC,EAAQ,IAAIJ,KAClB,OAAO,IAAIA,KAAKI,EAAMC,WAAW,GAAID,EAAME,QAAQ,GAAIF,EAAMG,OAAO,IACtE,KAkBMC,EAAwBC,CAdG,KAC/B,IAAMC,EAAQ,IAAIC,IAUlB,OATAhB,EAAMiB,OAAO,CAAC,IACZC,EAASC,YAAY,EAAEF,QAAQ,IAE7B,GAAIG,EAAYC,cAAc,EAAkC,aAA9BD,EAAYE,aAAa,CAAiB,CAC1E,IAAMC,EAAO,IAAIlB,KAAKe,EAAYC,cAAc,EAChDN,EAAMS,GAAG,CAACD,EAAKE,YAAY,GAC7B,CACF,EACF,GACOC,MAAMC,IAAI,CAACZ,GAAOa,GAAG,CAACC,GAAW,IAAIxB,KAAKwB,IACnD,IAKMC,EAAkB,GACfjB,EAAsBkB,IAAI,CAACC,GAChCA,EAAEP,YAAY,KAAOF,EAAKE,YAAY,IAwDpCQ,EAAqB,KACzB,IAAMC,EAAW,IAAI7B,KAAKF,EAAaO,WAAW,GAAIP,EAAaQ,QAAQ,GAAI,GAC/E,OAA6B,IAAtBuB,EAASC,MAAM,GAAW,EAAID,EAASC,MAAM,GAAK,CAC3D,EAGMC,EAAiB,IACd,IAAI/B,KAAKF,EAAaO,WAAW,GAAIP,EAAaQ,EALsC,MAK9B,GAAK,EAAG,GAAGC,OAAO,GA0C/EyB,EAAU,IACd,IAAM5B,EAAQ,IAAIJ,KAClB,OAAOkB,EAAKE,YAAY,KAAOhB,EAAMgB,YAAY,EACnD,EAEMa,EAAa,GACVhC,GAAgBiB,EAAKE,YAAY,KAAOnB,EAAamB,YAAY,GAGpEc,EAAkB,IACtBhC,EAAgBgB,EAClB,EAUMiB,EAAgBlC,EAAemC,CAzHb,IACtB,IAAMC,EAAiB,EAAE,CACnBC,EAA2B,IAAI3B,IAkBrC,OAhBAhB,EAAMiB,OAAO,CAAC,IACiBC,EAASC,YAAY,EAAEY,KAAK,GAEvD,EAAIX,EAAYC,cAAc,EAAkC,YAAY,CAA1CD,EAAYE,aAAa,EACjC,IAAIjB,KAAKe,EAAYC,cAAc,EACpCI,YAAY,KAAOF,EAAKE,YAAY,KAKnCP,EAAS0B,EAAE,EAAI,CAACD,EAAYE,GAAG,CAAC3B,EAAS0B,EAAE,GAAG,CACxED,EAAYnB,GAAG,CAACN,EAAS0B,EAAE,EAC3BF,EAAOI,IAAI,CAAC5B,GAEhB,GAEOwB,EACT,EAoGqDpC,GAAgB,EAAE,CAEvE,MACE,UAACV,MAAAA,CAAIC,UAAU,6CACb,WAACD,MAAAA,CAAIC,UAAU,iBACb,UAACkD,KAAAA,CAAGlD,UAAU,oDAA4ClB,EAAE,mBAAqB,aAEjF,WAACiB,MAAAA,CAAIC,UAAU,qEAEb,WAACD,MAAAA,CAAIC,UAAU,8CACb,UAACmD,SAAAA,CACCC,QAnBY,CAmBHC,IAlBnB9C,EAAgB,IAAIC,KAAKF,EAAaO,WAAW,GAAIP,EAAaQ,QAAQ,GAAK,GACjF,EAkBYd,UAAU,yCACX,MAGD,UAACsD,OAAAA,CAAKtD,UAAU,+BAhHjBM,CAgHwCiD,CAhH3BC,kBAAkB,CAAc,OAAbnD,EAAoB,QAAuB,OAAbA,EAAoB,QAAU,QAAS,CAC1GoD,MAAO,OACPC,KAAM,SACR,KA8GQ,UAACP,SAAAA,CACCC,QAtBY,CAsBHO,IArBnBpD,EAAgB,IAAIC,KAAKF,EAAaO,WAAW,GAAIP,EAAaQ,QAAQ,GAAK,GACjF,EAqBYd,UAAU,yCACX,SAMH,WAACD,MAAAA,CAAIC,UAAU,mCAEZ4D,CArHW,KACpB,IAAMC,EAAsB,OAAbxD,EAAoB,QAAuB,OAAbA,EAAoB,QAAU,QACrEyD,EAAuB,EAAE,CAGzBC,EAAW,IAAIvD,KAAK,KAAM,EAAG,GAEnC,CAFuC,GAElC,IAAIwD,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAMtC,EAAO,IAAIlB,KAAKuD,GACtBrC,EAAKuC,OAAO,CAACF,EAAShD,OAAO,GAAKiD,GAClC,CADsC,GAChCE,EAAUxC,EAAK8B,kBAAkB,CAACK,EAAQ,CAAEM,EADmB,MACV,OAAQ,GAEnEL,EAAWb,IAAI,CAACiB,EAAQE,SAAS,CAAC,EAAG,GAAGC,WAAW,GACrD,CAEA,OAAOP,CACT,KAqG2B/B,GAAG,CAAC,CAACuC,EAAKC,IACzB,UAACxE,MAAAA,CAAcC,UAAU,8DACtBsE,GADOC,IAMXC,CA9FU,KACnB,IAAMC,EAAwE,EAAE,CAC1EpC,EAAWD,IACXsC,EAAcnC,IAEdoC,EADY,IAAInE,KAAKF,EAAaO,WAAW,GAAIP,EAAaQ,QAAQ,GAAK,EAAG,GAClDC,OAAO,GAGzC,IAAK,IAAIiD,EAAI3B,EAAW,EAAG2B,GAAK,EAAGA,IAAK,EACjCf,IAAI,CAAC,CACRvB,KAAMiD,EAAkBX,EACxBY,gBAAgB,EAChBC,QAAS,IAAIrE,KAAKF,EAAaO,WAAW,GAAIP,EAAaQ,QAAQ,GAAK,EAAG6D,EAAkBX,EAC/F,GAIF,IAAK,IAAIA,EAAI,EAAGA,GAAKU,EAAaV,IAChCS,EAAKxB,IAAI,CAAC,CACRvB,KAAMsC,EACNY,gBAAgB,EAChBC,QAAS,IAAIrE,KAAKF,EAAaO,WAAW,GAAIP,EAAaQ,QAAQ,GAAIkD,EACzE,GAIF,IAAMc,EAAY,GAAKL,EAAKM,MAAM,CAClC,IAAK,IAAIf,EAAI,EAAGA,GAAKc,EAAWd,IAC9BS,EAAKxB,IAAI,CAAC,CACRvB,KAAMsC,EACNY,gBAAgB,EAChBC,QAAS,IAAIrE,KAAKF,EAAaO,WAAW,GAAIP,EAAaQ,QAAQ,GAAK,EAAGkD,EAC7E,GAGF,OAAOS,CACT,KA0D0B1C,GAAG,CAAC,CAACiD,EAAST,KAC5B,IAAMU,EAAUhD,EAAgB+C,EAAQH,OAAO,EACzCK,EAAe1C,EAAQwC,EAAQH,OAAO,EACtCM,EAAgB1C,EAAWuC,EAAQH,OAAO,EAE5CO,EAAU,GACVC,EAAc,GAalB,OAXIF,GACFC,EAAU,UADO,IAEjBC,EAAc,mBACLH,GACTE,EAAU,SADa,KAEvBC,EAAc,mBACLJ,IACTG,EAAU,GADQ,YAElBC,EAAc,oBAId,UAAClC,SAAAA,CAECC,QAAS,IAAMV,EAAgBsC,EAAQH,OAAO,EAC9C7E,UAAW,CAAC;;kBAEZ,EAAEgF,EAAQJ,cAAc,CAAG,gBAAkB,gBAAgB;kBAC7D,EAAEO,EAAgB,oBAAsBF,GAAW,CAACC,EAAe,qBAAuB,mBAAmB;kBAC7G,EAAEE,EAAQ,CAAC,EAAEC,EAAY;kBACzB,EAAEH,GAAgBC,GAAiBF,EAAU,gBAAkB,GAAG;gBACpE,CAAC,UAEED,EAAQtD,IAAI,EAVR6C,EAaX,SAKJ,WAACxE,MAAAA,CAAIC,UAAU,2DACb,WAACD,MAAAA,CAAIC,UAAU,oCACb,UAACD,MAAAA,CAAIC,UAAU,uDACf,UAACsD,OAAAA,CAAKtD,UAAU,yBAAiBlB,EAAE,6BAA+B,qBAEpE,WAACiB,MAAAA,CAAIC,UAAU,oCACb,UAACD,MAAAA,CAAIC,UAAU,uDACf,UAACsD,OAAAA,CAAKtD,UAAU,yBAAiBlB,EAAE,0BAA4B,aAEjE,WAACiB,MAAAA,CAAIC,UAAU,oCACb,UAACD,MAAAA,CAAIC,UAAU,yDACf,UAACsD,OAAAA,CAAKtD,UAAU,yBAAiBlB,EAAE,oCAAsC,2BAK5E2B,GACC,UAACV,MAAAA,CAAIC,UAAU,gBACZ2C,EAAcoC,MAAM,CAAG,EACtB,UAACO,EAAAA,CAAQA,CAAAA,CAACnF,MAAOwC,EAAevC,YAAaA,EAAamF,SAAS,aAEnE,WAACxF,MAAAA,CAAIC,UAAU,2CACZlB,EAAE,4BAA8B,gCAAgC,IAAE2B,EAAa+C,kBAAkB,CAAc,OAAbnD,EAAoB,QAAuB,OAAbA,EAAoB,QAAU,QAAS,CACtKoD,MAAO,OACPa,IAAK,UACLZ,KAAM,SACR,YAQhB,EAAE,wNC5QK,IAAM8B,EAAwB,KACnC,GAAM,GAAE1G,CAAC,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,CAAWA,GACnB0G,EAAcC,EAAAA,CAAWA,CAACC,WAAW,GACrC,CAACxF,EAAOyF,EAAS,CAAG1G,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,CAAS,EAAE,EACvC,CAAC2G,EAASC,EAAW,CAAG5G,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,EAAC,GACjC,CAAC6G,EAAcC,EAAgB,CAAG9G,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,CAAc,MACxD,CAAC+G,EAAaC,EAAe,CAAGhH,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,EAAC,GAEzCiH,EAAYC,IAAAA,WAAiB,CAAC,UAClCN,GAAW,GACX,IAAMO,EAAW,MAAMZ,EAAYa,qBAAqB,GACxDV,EAASS,EAASlG,KAAK,EAAI,EAAE,EAC7B2F,GAAW,EACb,EAAG,CAACL,EAAY,EAEhBtG,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,CAAC,KACRgH,GACF,EAAG,CAACA,EAAU,EAqDd,IAAMI,EAAkB,IACtB,IAAMC,EAAmBrG,EAAMsG,IAAI,CAACC,GAAKA,EAAE3D,EAAE,EAAE4D,aAAeC,GAC1DJ,IACFR,EAAgBQ,GAChBN,EAAe,IAEnB,EAoBMW,CAxBkB,CAwBLC,CA5EG,KACpB,IAAMlG,EAAQ,IAAIJ,KAClBI,EAAMmG,QAAQ,CAAC,EAAG,EAAG,EAAG,GACxB,IAAMC,EAAW,IAAIxG,KAAKI,GAC1BoG,EAAS/C,OAAO,CAAC+C,EAASjG,OAAO,GAAK,GAEtC,IAAM8F,EAAqB,EAAE,CAiB7B,OAfA1G,EAAMiB,OAAO,CAAC,IACgBC,EAASC,YAAY,EAAEY,KAAK,IAEtD,GAAIX,EAAYC,cAAc,EAAkC,aAA9BD,EAAYE,aAAa,CAAiB,CAC1E,IAAMwF,EAAkB,IAAIzG,KAAKe,EAAYC,cAAc,EAC3D,OAAOyF,GAAmBrG,GAASqG,EAAkBD,CACvD,CACA,OAAO,CACT,IAGEH,EAAW5D,IAAI,CAAC5B,EAEpB,GAEOwF,EACT,IAqDMK,EAAgBC,CAlDG,KACvB,IAAMC,EAAM,IAAI5G,KAEV0G,EAAwB,EAAE,CAiBhC,OAfA/G,EAAMiB,OAAO,CAAC,IACiBC,EAASC,YAAY,EAAEY,KAAK,GAEvD,EAAIX,EAAYC,cAAc,EAAkC,YAAY,CAA1CD,EAAYE,aAAa,EACjC,IAAIjB,KAAKe,EAAYC,cAAc,GACjC4F,IAM5BF,EAAcjE,IAAI,CAAC5B,EAEvB,GAEO6F,EACT,WA+BA,EAEI,OAFS,CAET,EAACnH,MAAAA,CAAIC,UAAU,iDACb,UAACD,MAAAA,CAAIC,UAAU,yBAAiBlB,EAAE,mBAAqB,iBAM3D,WAACiB,MAAAA,CAAIC,UAAU,sBAEb,UAACE,EAAAA,CAAmBA,CAAAA,CAACC,MAAOA,EAAOC,YAAamG,IAGhD,WAACxG,MAAAA,CAAIC,UAAU,8CACb,UAACkD,KAAAA,CAAGlD,UAAU,oDAA2C,UACzD,UAACsF,EAAAA,CAAQA,CAAAA,CAACnF,MAAO0G,EAAYzG,YAAamG,EAAiBhB,SAAS,gBAItE,WAACxF,MAAAA,CAAIC,UAAU,8CACb,UAACkD,KAAAA,CAAGlD,UAAU,oDAA2C,kBACzD,UAACsF,EAAAA,CAAQA,CAAAA,CAACnF,MAAO+G,EAAe9G,YAAamG,EAAiBhB,SAAS,gBAIzE,UAAC8B,EAAAA,CAAKA,CAAAA,CACJC,OAAQrB,EACRsB,QAjDmB,CAiDVC,IAhDbtB,GAAe,GACfF,EAAgB,KAClB,EA+CMyB,MAAO1B,EAAe,CAAC,KAAK,EAAEA,EAAahD,EAAE,EAAE,CAAG,GAClD2E,KAAK,cAEJ3B,GAAgB,UAAC4B,EAAAA,CAAWA,CAAAA,CAACtG,SAAU0E,EAAc6B,UAhDlC,CAgD6CC,GA/CrE7B,EAAgB8B,GAChBlC,EAASmC,IACP,IAAMhF,EAAK+E,EAAQ/E,EAAE,CACrB,GAAU,MAANA,EAAY,OAAOgF,EACvB,IAAMxD,EAAMwD,EAAKC,SAAS,CAACtB,GAAKuB,OAAOvB,EAAE3D,EAAE,EAAE,MAAQkF,OAAOlF,IAC5D,GAAY,CAAC,IAATwB,EAAY,MAAO,CAACuD,KAAYC,EAAK,CACzC,IAAMG,EAAOH,EAAKI,KAAK,GAEvB,OADAD,CAAI,CAAC3D,EAAI,CAAGuD,EACLI,CACT,EACF,QAyCF,EAAE,8KCjIF,MAXkC,IAE9B,UAACxJ,EAAAA,CAAWA,CAAAA,UACV,WAACqB,IAQuBqI,EARvBrI,CAAIC,UAAU,kDACb,UAACqI,KAAAA,CAAGrI,UAAU,iDAAwC,sBACtD,UAACwF,EAAAA,CAAWA,CAAAA,CAAAA,uCCTpB,mCCAA,oFCAA,4FCAA,0FCAA,+FCAA,qCCAA,yCCAA,iDCAA,kCCAA,oCCAA,sCCAA,oCCAA,mDCAA,0CCAA,+CCAA,sDCAA,mCCAA,8CCAA,6CCAA","sources":["webpack://website/","webpack://website/./src/components/common/DoctorRoute.tsx","webpack://website/./src/components/doctor/AppointmentCalendar.tsx","webpack://website/./src/components/doctor/DoctorPanel.tsx","webpack://website/./src/pages/doctor/panel.tsx","webpack://website/external commonjs \"jsqr\"","webpack://website/external commonjs \"next/dist/compiled/next-server/pages.runtime.prod.js\"","webpack://website/external commonjs \"next/dist/server/app-render/action-async-storage.external.js\"","webpack://website/external commonjs \"next/dist/server/app-render/work-async-storage.external.js\"","webpack://website/external commonjs \"next/dist/server/app-render/work-unit-async-storage.external.js\"","webpack://website/external commonjs \"react\"","webpack://website/external commonjs \"react-dom\"","webpack://website/external commonjs \"react/jsx-runtime\"","webpack://website/external commonjs2 \"fs\"","webpack://website/external commonjs2 \"path\"","webpack://website/external commonjs2 \"stream\"","webpack://website/external commonjs2 \"zlib\"","webpack://website/external module \"@radix-ui/react-slot\"","webpack://website/external module \"aws-amplify\"","webpack://website/external module \"aws-amplify/auth\"","webpack://website/external module \"class-variance-authority\"","webpack://website/external module \"clsx\"","webpack://website/external module \"react-hook-form\"","webpack://website/external module \"tailwind-merge\"","webpack://website/external module \"zustand\""],"sourcesContent":["import { PagesRouteModule } from \"next/dist/server/route-modules/pages/module.compiled\";\nimport { RouteKind } from \"next/dist/server/route-kind\";\nimport { hoist } from \"next/dist/build/templates/helpers\";\n// Import the app and document modules.\nimport * as document from \"private-next-pages/_document.tsx\";\nimport * as app from \"private-next-pages/_app.tsx\";\n// Import the userland code.\nimport * as userland from \"private-next-pages/doctor/panel.tsx\";\n// Re-export the component (should be the default export).\nexport default hoist(userland, 'default');\n// Re-export methods.\nexport const getStaticProps = hoist(userland, 'getStaticProps');\nexport const getStaticPaths = hoist(userland, 'getStaticPaths');\nexport const getServerSideProps = hoist(userland, 'getServerSideProps');\nexport const config = hoist(userland, 'config');\nexport const reportWebVitals = hoist(userland, 'reportWebVitals');\n// Re-export legacy methods.\nexport const unstable_getStaticProps = hoist(userland, 'unstable_getStaticProps');\nexport const unstable_getStaticPaths = hoist(userland, 'unstable_getStaticPaths');\nexport const unstable_getStaticParams = hoist(userland, 'unstable_getStaticParams');\nexport const unstable_getServerProps = hoist(userland, 'unstable_getServerProps');\nexport const unstable_getServerSideProps = hoist(userland, 'unstable_getServerSideProps');\n// Create and export the route module that will be consumed.\nexport const routeModule = new PagesRouteModule({\n    definition: {\n        kind: RouteKind.PAGES,\n        page: \"/doctor/panel\",\n        pathname: \"/doctor/panel\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    components: {\n        // default export might not exist when optimized for data only\n        App: app.default,\n        Document: document.default\n    },\n    userland\n});\n\n//# sourceMappingURL=pages.js.map","'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { useRouter } from 'next/router';\nimport { useLanguage } from '@/contexts/LanguageContext';\nimport { fetchAuthSession } from 'aws-amplify/auth';\nimport { ProtectedRoute } from '@/components/common/ProtectedRoute';\n\ninterface DoctorRouteProps {\n  children: React.ReactNode;\n}\n\nexport const DoctorRoute: React.FC<DoctorRouteProps> = ({ children }) => {\n  const router = useRouter();\n  const { t } = useLanguage();\n  const [checkingGroup, setCheckingGroup] = useState(true);\n\n  useEffect(() => {\n    const check = async () => {\n      try {\n        const session = await fetchAuthSession();\n        const idPayload = session.tokens?.idToken?.payload as Record<string, unknown> | undefined;\n        const groups = (idPayload?.['cognito:groups'] as string[] | undefined) || [];\n        if (!groups.includes('doctor')) {\n          router.replace('/user/profile');\n          return;\n        }\n      } finally {\n        setCheckingGroup(false);\n      }\n    };\n    check();\n  }, [router]);\n\n  return (\n    <ProtectedRoute>\n      {checkingGroup ? (\n        <div className=\"min-h-screen flex items-center justify-center bg-background-secondary\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4\"></div>\n            <p className=\"text-body\">{t('common.loading')}</p>\n          </div>\n        </div>\n      ) : (\n        <>{children}</>\n      )}\n    </ProtectedRoute>\n  );\n};\n\n","import React, { useState } from 'react';\nimport { Case } from '@/types';\nimport { useLanguage } from '@/contexts/LanguageContext';\nimport CaseList from '@/components/case/case-list';\n\ninterface AppointmentCalendarProps {\n  cases: Case[];\n  onCaseClick?: (caseId: string) => void;\n}\n\nexport const AppointmentCalendar: React.FC<AppointmentCalendarProps> = ({\n  cases,\n  onCaseClick,\n}) => {\n  const { language, t } = useLanguage();\n  const [currentMonth, setCurrentMonth] = useState(new Date());\n  // Initialize with today's date (normalized to midnight for proper date comparison)\n  const getToday = () => {\n    const today = new Date();\n    return new Date(today.getFullYear(), today.getMonth(), today.getDate());\n  };\n  const [selectedDate, setSelectedDate] = useState<Date | null>(getToday());\n\n  // Get all dates that have appointments (only accepted appointments)\n  const getDatesWithAppointments = (): Date[] => {\n    const dates = new Set<string>();\n    cases.forEach((caseData) => {\n      caseData.appointments?.forEach((appointment) => {\n        // Only show accepted appointments on the calendar\n        if (appointment.scheduledStart && appointment.meetingStatus === 'accepted') {\n          const date = new Date(appointment.scheduledStart);\n          dates.add(date.toDateString());\n        }\n      });\n    });\n    return Array.from(dates).map(dateStr => new Date(dateStr));\n  };\n\n  const datesWithAppointments = getDatesWithAppointments();\n\n  // Check if a date has appointments\n  const hasAppointments = (date: Date): boolean => {\n    return datesWithAppointments.some(d =>\n      d.toDateString() === date.toDateString()\n    );\n  };\n\n  // Get cases for a specific date (only accepted appointments)\n  const getCasesForDate = (date: Date): Case[] => {\n    const result: Case[] = [];\n    const casesOnDate: Set<number> = new Set();\n\n    cases.forEach((caseData) => {\n      const hasAppointmentOnDate = caseData.appointments?.some((appointment) => {\n        // Only show accepted appointments\n        if (appointment.scheduledStart && appointment.meetingStatus === 'accepted') {\n          const appointmentDate = new Date(appointment.scheduledStart);\n          return appointmentDate.toDateString() === date.toDateString();\n        }\n        return false;\n      });\n\n      if (hasAppointmentOnDate && caseData.id && !casesOnDate.has(caseData.id)) {\n        casesOnDate.add(caseData.id);\n        result.push(caseData);\n      }\n    });\n\n    return result;\n  };\n\n  // Get month year string\n  const getMonthYearString = () => {\n    return currentMonth.toLocaleDateString(language === 'ro' ? 'ro-RO' : language === 'de' ? 'de-DE' : 'en-GB', {\n      month: 'long',\n      year: 'numeric',\n    });\n  };\n\n  // Get day headers based on language (Monday to Sunday)\n  const getDayHeaders = () => {\n    const locale = language === 'ro' ? 'ro-RO' : language === 'de' ? 'de-DE' : 'en-GB';\n    const dayHeaders: string[] = [];\n    \n    // January 1, 2024 is a Monday - use this as reference\n    const baseDate = new Date(2024, 0, 1); // Monday\n    \n    for (let i = 0; i < 7; i++) {\n      const date = new Date(baseDate);\n      date.setDate(baseDate.getDate() + i); // Monday, Tuesday, ..., Sunday\n      const dayName = date.toLocaleDateString(locale, { weekday: 'short' });\n      // Use first 2 characters for better readability, especially for languages with similar first letters\n      dayHeaders.push(dayName.substring(0, 2).toUpperCase());\n    }\n    \n    return dayHeaders;\n  };\n\n  // Get first day of month\n  const getFirstDayOfMonth = () => {\n    const firstDay = new Date(currentMonth.getFullYear(), currentMonth.getMonth(), 1);\n    return firstDay.getDay() === 0 ? 6 : firstDay.getDay() - 1; // Convert Sunday (0) to Monday (6)\n  };\n\n  // Get days in month\n  const getDaysInMonth = () => {\n    return new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1, 0).getDate();\n  };\n\n  // Get days array\n  const getDaysArray = () => {\n    const days: Array<{ date: number; isCurrentMonth: boolean; dateObj: Date }> = [];\n    const firstDay = getFirstDayOfMonth();\n    const daysInMonth = getDaysInMonth();\n    const prevMonth = new Date(currentMonth.getFullYear(), currentMonth.getMonth() - 1, 0);\n    const daysInPrevMonth = prevMonth.getDate();\n\n    // Add previous month's days\n    for (let i = firstDay - 1; i >= 0; i--) {\n      days.push({\n        date: daysInPrevMonth - i,\n        isCurrentMonth: false,\n        dateObj: new Date(currentMonth.getFullYear(), currentMonth.getMonth() - 1, daysInPrevMonth - i),\n      });\n    }\n\n    // Add current month's days\n    for (let i = 1; i <= daysInMonth; i++) {\n      days.push({\n        date: i,\n        isCurrentMonth: true,\n        dateObj: new Date(currentMonth.getFullYear(), currentMonth.getMonth(), i),\n      });\n    }\n\n    // Add next month's days to fill the grid\n    const remaining = 42 - days.length;\n    for (let i = 1; i <= remaining; i++) {\n      days.push({\n        date: i,\n        isCurrentMonth: false,\n        dateObj: new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1, i),\n      });\n    }\n\n    return days;\n  };\n\n  const isToday = (date: Date) => {\n    const today = new Date();\n    return date.toDateString() === today.toDateString();\n  };\n\n  const isSelected = (date: Date) => {\n    return selectedDate && date.toDateString() === selectedDate.toDateString();\n  };\n\n  const handleDateClick = (date: Date) => {\n    setSelectedDate(date);\n  };\n\n  const handlePrevMonth = () => {\n    setCurrentMonth(new Date(currentMonth.getFullYear(), currentMonth.getMonth() - 1));\n  };\n\n  const handleNextMonth = () => {\n    setCurrentMonth(new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1));\n  };\n\n  const selectedCases = selectedDate ? getCasesForDate(selectedDate) : [];\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-md p-6\">\n      <div className=\"mb-4\">\n        <h2 className=\"text-lg font-semibold text-gray-800 mb-4\">{t('calendar.title') || 'Calendar'}</h2>\n\n        <div className=\"items-center gap-4 p-3 border border-gray-300 rounded-lg\">\n          {/* Month/Year Selector */}\n          <div className=\"flex items-center justify-between\">\n            <button\n              onClick={handlePrevMonth}\n              className=\"p-2 hover:bg-gray-100 rounded\"\n            >\n              &lt;\n            </button>\n            <span className=\"text-lg font-medium\">{getMonthYearString()}</span>\n            <button\n              onClick={handleNextMonth}\n              className=\"p-2 hover:bg-gray-100 rounded\"\n            >\n              &gt;\n            </button>\n          </div>\n\n          {/* Calendar Grid */}\n          <div className=\"grid grid-cols-7 gap-1\">\n            {/* Day headers */}\n            {getDayHeaders().map((day, idx) => (\n              <div key={idx} className=\"text-center text-sm font-medium text-gray-600 py-2\">\n                {day}\n              </div>\n            ))}\n\n            {/* Calendar days */}\n            {getDaysArray().map((dayInfo, idx) => {\n              const hasAppt = hasAppointments(dayInfo.dateObj);\n              const isCurrentDay = isToday(dayInfo.dateObj);\n              const isSelectedDay = isSelected(dayInfo.dateObj);\n\n              let bgColor = '';\n              let borderColor = '';\n\n              if (isSelectedDay) {\n                bgColor = 'bg-blue-200';\n                borderColor = 'border-blue-400';\n              } else if (isCurrentDay) {\n                bgColor = 'bg-gray-200';\n                borderColor = 'border-gray-400';\n              } else if (hasAppt) {\n                bgColor = 'bg-green-200';\n                borderColor = 'border-green-400';\n              }\n\n              return (\n                <button\n                  key={idx}\n                  onClick={() => handleDateClick(dayInfo.dateObj)}\n                  className={`\n                  h-10 w-full rounded-md text-sm transition-colors cursor-pointer\n                  ${dayInfo.isCurrentMonth ? 'text-gray-800' : 'text-gray-400'}\n                  ${isSelectedDay ? 'hover:bg-blue-100' : hasAppt && !isCurrentDay ? 'hover:bg-green-100' : 'hover:bg-gray-50'}\n                  ${bgColor} ${borderColor} border\n                  ${isCurrentDay || isSelectedDay || hasAppt ? 'font-semibold' : ''}\n                `}\n                >\n                  {dayInfo.date}\n                </button>\n              );\n            })}\n          </div>\n        </div>\n\n        {/* Legend */}\n        <div className=\"mt-4 flex flex-wrap items-center gap-4 text-sm\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-4 h-4 rounded border border-blue-400 bg-blue-200\"></div>\n            <span className=\"text-gray-700\">{t('calendar.legend.selected') || 'Selected Date'}</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-4 h-4 rounded border border-gray-400 bg-gray-200\"></div>\n            <span className=\"text-gray-700\">{t('calendar.legend.today') || 'Today'}</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-4 h-4 rounded border border-green-400 bg-green-200\"></div>\n            <span className=\"text-gray-700\">{t('calendar.legend.hasAppointments') || 'Has Appointments'}</span>\n          </div>\n        </div>\n\n        {/* Selected date cases */}\n        {selectedDate && (\n          <div className=\"mt-4\">\n            {selectedCases.length > 0 ? (\n              <CaseList cases={selectedCases} onCaseClick={onCaseClick} viewMode=\"arranged\"/>\n            ) : (\n              <div className=\"text-center text-gray-500 py-4\">\n                {t('calendar.noAppointments') || 'No appointments scheduled for'} {selectedDate.toLocaleDateString(language === 'ro' ? 'ro-RO' : language === 'de' ? 'de-DE' : 'en-GB', {\n                  month: 'long',\n                  day: 'numeric',\n                  year: 'numeric',\n                })}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n","import React, { useEffect, useState } from 'react';\nimport { Case } from '@/types';\nimport { useLanguage } from '@/contexts/LanguageContext';\nimport { HttpService } from '@/services/httpService';\nimport { AppointmentCalendar } from './AppointmentCalendar';\nimport CaseList from '@/components/case/case-list';\nimport { CaseDetails } from '@/components/case/case-details';\nimport Modal from '@/components/common/Modal';\n\nexport const DoctorPanel: React.FC = () => {\n  const { t } = useLanguage();\n  const httpService = HttpService.getInstance();\n  const [cases, setCases] = useState<Case[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedCase, setSelectedCase] = useState<Case | null>(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const loadCases = React.useCallback(async () => {\n    setLoading(true);\n    const response = await httpService.getWorkInProcessCases();\n    setCases(response.cases || []);\n    setLoading(false);\n  }, [httpService]);\n\n  useEffect(() => {\n    loadCases();\n  }, [loadCases]);\n\n  // Get today's cases (only accepted appointments)\n  const getTodayCases = (): Case[] => {\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    const tomorrow = new Date(today);\n    tomorrow.setDate(tomorrow.getDate() + 1);\n\n    const todayCases: Case[] = [];\n\n    cases.forEach((caseData) => {\n      const hasAppointmentToday = caseData.appointments?.some((appointment) => {\n        // Only show accepted appointments\n        if (appointment.scheduledStart && appointment.meetingStatus === 'accepted') {\n          const appointmentDate = new Date(appointment.scheduledStart);\n          return appointmentDate >= today && appointmentDate < tomorrow;\n        }\n        return false;\n      });\n\n      if (hasAppointmentToday) {\n        todayCases.push(caseData);\n      }\n    });\n\n    return todayCases;\n  };\n\n  // Get all upcoming cases sorted by date (only accepted appointments)\n  const getUpcomingCases = (): Case[] => {\n    const now = new Date();\n    \n    const upcomingCases: Case[] = [];\n\n    cases.forEach((caseData) => {\n      const hasFutureAppointment = caseData.appointments?.some((appointment) => {\n        // Only show accepted appointments\n        if (appointment.scheduledStart && appointment.meetingStatus === 'accepted') {\n          const appointmentDate = new Date(appointment.scheduledStart);\n          return appointmentDate >= now;\n        }\n        return false;\n      });\n\n      if (hasFutureAppointment) {\n        upcomingCases.push(caseData);\n      }\n    });\n\n    return upcomingCases;\n  };\n\n  const handleCaseClick = (caseId: string) => {\n    const selectedCaseData = cases.find(c => c.id?.toString() === caseId);\n    if (selectedCaseData) {\n      setSelectedCase(selectedCaseData);\n      setIsModalOpen(true);\n    }\n  };\n\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n    setSelectedCase(null);\n  };\n\n  const handleCaseUpdated = (updated: Case) => {\n    setSelectedCase(updated);\n    setCases(prev => {\n      const id = updated.id;\n      if (id == null) return prev;\n      const idx = prev.findIndex(c => String(c.id||'') === String(id));\n      if (idx === -1) return [updated, ...prev];\n      const copy = prev.slice();\n      copy[idx] = updated;\n      return copy;\n    });\n  };\n\n  const todayCases = getTodayCases();\n  const upcomingCases = getUpcomingCases();\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"text-gray-600\">{t('common.loading') || 'Loading...'}</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Calendar Section */}\n      <AppointmentCalendar cases={cases} onCaseClick={handleCaseClick} />\n\n      {/* Today Section */}\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <h2 className=\"text-lg font-semibold text-gray-800 mb-4\">Today</h2>\n        <CaseList cases={todayCases} onCaseClick={handleCaseClick} viewMode=\"arranged\"/>\n      </div>\n\n      {/* Next Meetings Section */}\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <h2 className=\"text-lg font-semibold text-gray-800 mb-4\">Next Meetings</h2>\n        <CaseList cases={upcomingCases} onCaseClick={handleCaseClick} viewMode=\"arranged\"/>\n      </div>\n\n      {/* Case Details Modal */}\n      <Modal\n        isOpen={isModalOpen}\n        onClose={handleCloseModal}\n        title={selectedCase ? `Case ${selectedCase.id}` : ''}\n        size=\"xl\"\n      >\n        {selectedCase && <CaseDetails caseData={selectedCase} onUpdated={handleCaseUpdated} />}\n      </Modal>\n    </div>\n  );\n};\n\n","import React from 'react';\nimport { DoctorRoute } from '@/components/common/DoctorRoute';\nimport { DoctorPanel } from '@/components/doctor/DoctorPanel';\n\nconst DoctorPanelPage: React.FC = () => {\n  return (\n    <DoctorRoute>\n      <div className=\"max-w-6xl mx-auto px-4 py-8 space-y-8\">\n        <h1 className=\"text-3xl font-bold text-gray-800 mb-8\">Upcoming Meetings</h1>\n        <DoctorPanel />\n      </div>\n    </DoctorRoute>\n  );\n};\n\nexport default DoctorPanelPage;\n\n","module.exports = require(\"jsqr\");","module.exports = require(\"next/dist/compiled/next-server/pages.runtime.prod.js\");","module.exports = require(\"next/dist/server/app-render/action-async-storage.external.js\");","module.exports = require(\"next/dist/server/app-render/work-async-storage.external.js\");","module.exports = require(\"next/dist/server/app-render/work-unit-async-storage.external.js\");","module.exports = require(\"react\");","module.exports = require(\"react-dom\");","module.exports = require(\"react/jsx-runtime\");","module.exports = require(\"fs\");","module.exports = require(\"path\");","module.exports = require(\"stream\");","module.exports = require(\"zlib\");","module.exports = import(\"@radix-ui/react-slot\");;","module.exports = import(\"aws-amplify\");;","module.exports = import(\"aws-amplify/auth\");;","module.exports = import(\"class-variance-authority\");;","module.exports = import(\"clsx\");;","module.exports = import(\"react-hook-form\");;","module.exports = import(\"tailwind-merge\");;","module.exports = import(\"zustand\");;"],"names":["DoctorRoute","children","router","useRouter","t","useLanguage","checkingGroup","setCheckingGroup","useState","useEffect","check","session","fetchAuthSession","idPayload","tokens","idToken","payload","groups","includes","replace","ProtectedRoute","div","className","p","AppointmentCalendar","cases","onCaseClick","language","currentMonth","setCurrentMonth","Date","selectedDate","setSelectedDate","getToday","today","getFullYear","getMonth","getDate","datesWithAppointments","getDatesWithAppointments","dates","Set","forEach","caseData","appointments","appointment","scheduledStart","meetingStatus","date","add","toDateString","Array","from","map","dateStr","hasAppointments","some","d","getFirstDayOfMonth","firstDay","getDay","getDaysInMonth","isToday","isSelected","handleDateClick","selectedCases","getCasesForDate","result","casesOnDate","id","has","push","h2","button","onClick","handlePrevMonth","span","getMonthYearString","toLocaleDateString","month","year","handleNextMonth","getDayHeaders","locale","dayHeaders","baseDate","i","setDate","dayName","weekday","substring","toUpperCase","day","idx","getDaysArray","days","daysInMonth","daysInPrevMonth","isCurrentMonth","dateObj","remaining","length","dayInfo","hasAppt","isCurrentDay","isSelectedDay","bgColor","borderColor","CaseList","viewMode","DoctorPanel","httpService","HttpService","getInstance","setCases","loading","setLoading","selectedCase","setSelectedCase","isModalOpen","setIsModalOpen","loadCases","React","response","getWorkInProcessCases","handleCaseClick","selectedCaseData","find","c","toString","caseId","todayCases","getTodayCases","setHours","tomorrow","appointmentDate","upcomingCases","getUpcomingCases","now","Modal","isOpen","onClose","handleCloseModal","title","size","CaseDetails","onUpdated","handleCaseUpdated","updated","prev","findIndex","String","copy","slice","DoctorPanelPage","h1"],"sourceRoot":""}