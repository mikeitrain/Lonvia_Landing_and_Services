{"version":3,"file":"../pages/admin/panel.js","mappings":"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","sources":["webpack://website/?1096","webpack://website/./src/components/common/AdminRoute.tsx","webpack://website/./src/pages/admin/panel.tsx","webpack://website/external commonjs \"jsqr\"","webpack://website/external commonjs \"next/dist/compiled/next-server/pages.runtime.prod.js\"","webpack://website/external commonjs \"next/dist/server/app-render/action-async-storage.external.js\"","webpack://website/external commonjs \"next/dist/server/app-render/work-async-storage.external.js\"","webpack://website/external commonjs \"next/dist/server/app-render/work-unit-async-storage.external.js\"","webpack://website/external commonjs \"react\"","webpack://website/external commonjs \"react-dom\"","webpack://website/external commonjs \"react/jsx-runtime\"","webpack://website/external commonjs2 \"fs\"","webpack://website/external commonjs2 \"path\"","webpack://website/external commonjs2 \"stream\"","webpack://website/external commonjs2 \"zlib\"","webpack://website/external module \"@radix-ui/react-slot\"","webpack://website/external module \"aws-amplify\"","webpack://website/external module \"aws-amplify/auth\"","webpack://website/external module \"class-variance-authority\"","webpack://website/external module \"clsx\"","webpack://website/external module \"react-hook-form\"","webpack://website/external module \"tailwind-merge\"","webpack://website/external module \"zustand\""],"sourcesContent":["import { PagesRouteModule } from \"next/dist/server/route-modules/pages/module.compiled\";\nimport { RouteKind } from \"next/dist/server/route-kind\";\nimport { hoist } from \"next/dist/build/templates/helpers\";\n// Import the app and document modules.\nimport * as document from \"private-next-pages/_document.tsx\";\nimport * as app from \"private-next-pages/_app.tsx\";\n// Import the userland code.\nimport * as userland from \"private-next-pages/admin/panel.tsx\";\n// Re-export the component (should be the default export).\nexport default hoist(userland, 'default');\n// Re-export methods.\nexport const getStaticProps = hoist(userland, 'getStaticProps');\nexport const getStaticPaths = hoist(userland, 'getStaticPaths');\nexport const getServerSideProps = hoist(userland, 'getServerSideProps');\nexport const config = hoist(userland, 'config');\nexport const reportWebVitals = hoist(userland, 'reportWebVitals');\n// Re-export legacy methods.\nexport const unstable_getStaticProps = hoist(userland, 'unstable_getStaticProps');\nexport const unstable_getStaticPaths = hoist(userland, 'unstable_getStaticPaths');\nexport const unstable_getStaticParams = hoist(userland, 'unstable_getStaticParams');\nexport const unstable_getServerProps = hoist(userland, 'unstable_getServerProps');\nexport const unstable_getServerSideProps = hoist(userland, 'unstable_getServerSideProps');\n// Create and export the route module that will be consumed.\nexport const routeModule = new PagesRouteModule({\n    definition: {\n        kind: RouteKind.PAGES,\n        page: \"/admin/panel\",\n        pathname: \"/admin/panel\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    components: {\n        // default export might not exist when optimized for data only\n        App: app.default,\n        Document: document.default\n    },\n    userland\n});\n\n//# sourceMappingURL=pages.js.map","'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { useRouter } from 'next/router';\nimport { useLanguage } from '@/contexts/LanguageContext';\nimport { fetchAuthSession } from 'aws-amplify/auth';\nimport { ProtectedRoute } from '@/components/common/ProtectedRoute';\n\ninterface AdminRouteProps {\n  children: React.ReactNode;\n}\n\nexport const AdminRoute: React.FC<AdminRouteProps> = ({ children }) => {\n  const router = useRouter();\n  const { t } = useLanguage();\n  const [checkingGroup, setCheckingGroup] = useState(true);\n\n  useEffect(() => {\n    const check = async () => {\n      try {\n        const session = await fetchAuthSession();\n        const idPayload = session.tokens?.idToken?.payload as Record<string, unknown> | undefined;\n        const groups = (idPayload?.['cognito:groups'] as string[] | undefined) || [];\n        if (!groups.includes('admin')) {\n          router.replace('/user/profile');\n          return;\n        }\n      } finally {\n        setCheckingGroup(false);\n      }\n    };\n    check();\n  }, [router]);\n\n  return (\n    <ProtectedRoute>\n      {checkingGroup ? (\n        <div className=\"min-h-screen flex items-center justify-center bg-background-secondary\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4\"></div>\n            <p className=\"text-body\">{t('common.loading')}</p>\n          </div>\n        </div>\n      ) : (\n        <>{children}</>\n      )}\n    </ProtectedRoute>\n  );\n};\n\n\n"," 'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { AdminRoute } from '@/components/common/AdminRoute';\nimport CaseList from '@/components/case/case-list';\nimport Modal from '@/components/common/Modal';\nimport { CaseDetails } from '@/components/case/case-details';\nimport { HttpService } from '@/services/httpService';\nimport { Case, CaseListPaginatedResponse } from '@/types/case';\nimport { CASE_STATUS, CaseStatus } from '@/types/status';\nimport { useLanguage } from '@/contexts/LanguageContext';\nimport { StatusUtils } from '@/lib/statusUtils';\nimport { DoctorProfile } from '@/types/doctor';\n// no direct auth calls here; AdminRoute handles access control\n\nexport default function AdminPanelPage() {\n  const { t } = useLanguage();\n  const [workInProcess, setWorkInProcess] = useState<Case[]>([]);\n  const [waitingForUser, setWaitingForUser] = useState<Case[]>([]);\n  const [arranged, setArranged] = useState<Case[] | null>(null);\n  const [inConsultation, setInConsultation] = useState<Case[] | null>(null);\n  const [declined, setDeclined] = useState<Case[] | null>(null);\n  const [finished, setFinished] = useState<Case[] | null>(null);\n  const [initializing, setInitializing] = useState(true);\n  const [selectedCase, setSelectedCase] = useState<Case | null>(null);\n  const [doctors, setDoctors] = useState<DoctorProfile[]>([]);\n\n  useEffect(() => {\n    const init = async () => {\n      try {\n        const http = HttpService.getInstance();\n        const [wipRes, wfuRes, doctorsRes] = await Promise.all([\n          http.getWorkInProcessCases(),\n          http.getWaitingForUserCases(),\n          http.getAllDoctors({ isActive: true }),\n        ]);\n        setWorkInProcess(wipRes.cases || []);\n        setWaitingForUser(wfuRes.cases || []);\n        setDoctors(doctorsRes.doctors || []);\n      } finally {\n        setInitializing(false);\n      }\n    };\n    init();\n  }, []);\n\n  const loadByStatus = async (status: CaseStatus, setter: (cases: Case[]) => void) => {\n    const http = HttpService.getInstance();\n    const res: CaseListPaginatedResponse = await http.getCasesByStatus([status]);\n    setter(res.cases || []);\n  };\n\n  const insertOrReplace = (list: Case[], updated: Case): Case[] => {\n    const id = updated.id;\n    if (id == null) return list;\n    const idx = list.findIndex(c => String(c.id||'') === String(id));\n    if (idx === -1) return [updated, ...list];\n    const copy = list.slice();\n    copy[idx] = updated;\n    return copy;\n  };\n\n  const removeFromList = (list: Case[], updated: Case): Case[] => list.filter(c => String(c.id||'') !== String(updated.id||''));\n\n  const mapStatusToListKey = (status: CaseStatus | null): 'workInProcess' | 'waitingForUser' | 'arranged' | 'inConsultation' | 'declined' | 'finished' | null => {\n    switch (status) {\n      case CASE_STATUS.NEW:\n      case CASE_STATUS.PAID:\n        return 'workInProcess';\n      case CASE_STATUS.OFFER_SENT:\n      case CASE_STATUS.WAITING_FOR_PAYMENT:\n      case CASE_STATUS.TIMESLOTS_SENT:\n        return 'waitingForUser';\n      case CASE_STATUS.ARRANGED:\n        return 'arranged';\n      case CASE_STATUS.IN_CONSULTATION:\n        return 'inConsultation';\n      case CASE_STATUS.DECLINED:\n        return 'declined';\n      case CASE_STATUS.FINISHED:\n        return 'finished';\n      default:\n        return null;\n    }\n  };\n\n  const handleCaseUpdated = (updated: Case) => {\n    setSelectedCase(updated);\n    const status = StatusUtils.toCaseStatus(updated.status?.name || '');\n    const target = mapStatusToListKey(status);\n\n    // Remove from all lists first\n    setWorkInProcess(prev => removeFromList(prev, updated));\n    setWaitingForUser(prev => removeFromList(prev, updated));\n    setArranged(prev => (prev ? removeFromList(prev, updated) : prev));\n    setInConsultation(prev => (prev ? removeFromList(prev, updated) : prev));\n    setDeclined(prev => (prev ? removeFromList(prev, updated) : prev));\n    setFinished(prev => (prev ? removeFromList(prev, updated) : prev));\n\n    // Add to the appropriate list\n    if (target === 'workInProcess') {\n      setWorkInProcess(prev => insertOrReplace(prev, updated));\n    } else if (target === 'waitingForUser') {\n      setWaitingForUser(prev => insertOrReplace(prev, updated));\n    } else if (target === 'arranged') {\n      setArranged(prev => (prev ? insertOrReplace(prev, updated) : prev));\n    } else if (target === 'inConsultation') {\n      setInConsultation(prev => (prev ? insertOrReplace(prev, updated) : prev));\n    } else if (target === 'declined') {\n      setDeclined(prev => (prev ? insertOrReplace(prev, updated) : prev));\n    } else if (target === 'finished') {\n      setFinished(prev => (prev ? insertOrReplace(prev, updated) : prev));\n    }\n  };\n\n  if (initializing) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n      </div>\n    );\n  }\n\n  return (\n    <AdminRoute>\n      <div className=\"max-w-6xl mx-auto px-4 py-8 space-y-8\">\n        <h1 className=\"text-3xl font-bold\">{t('admin.panel.title')}</h1>\n\n        <section className=\"bg-background-secondary border border-border-primary rounded-lg shadow-sm p-5\">\n          <h2 className=\"text-xl font-semibold mb-3\">{t('admin.panel.workInProcess')}</h2>\n          <div className=\"bg-background-primary border border-border-primary rounded-md p-4\">\n            <CaseList cases={workInProcess} onCaseClick={(id) => {\n              const found = workInProcess.find(c => String(c.id||'') === String(id));\n              if (found) setSelectedCase(found);\n            }} />\n          </div>\n        </section>\n\n        <section className=\"bg-background-secondary border border-border-primary rounded-lg shadow-sm p-5\">\n          <h2 className=\"text-xl font-semibold mb-3\">{t('admin.panel.waitingForUser')}</h2>\n          <div className=\"bg-background-primary border border-border-primary rounded-md p-4\">\n            <CaseList cases={waitingForUser} onCaseClick={(id) => {\n              const found = waitingForUser.find(c => String(c.id||'') === String(id));\n              if (found) setSelectedCase(found);\n            }} />\n          </div>\n        </section>\n\n        <section className=\"bg-background-secondary border border-border-primary rounded-lg shadow-sm p-5\">\n          <h2 className=\"text-xl font-semibold mb-4\">{t('admin.panel.arranged')}</h2>\n          {arranged === null ? (\n            <div className=\"flex justify-center\">\n              <button\n                className=\"bg-primary-600 text-white px-5 py-2 rounded-md font-medium hover:bg-primary-700\"\n                onClick={() => loadByStatus(CASE_STATUS.ARRANGED, (c) => setArranged(c))}\n              >\n                {t('admin.panel.loadCases')}\n              </button>\n            </div>\n          ) : (\n            <div className=\"bg-background-primary border border-border-primary rounded-md p-4\">\n              <CaseList cases={arranged} onCaseClick={(id) => {\n                const found = arranged?.find(c => String(c.id||'') === String(id));\n                if (found) setSelectedCase(found);\n              }} />\n            </div>\n          )}\n        </section>\n\n        <section className=\"bg-background-secondary border border-border-primary rounded-lg shadow-sm p-5\">\n          <h2 className=\"text-xl font-semibold mb-4\">{t('admin.panel.inConsultation')}</h2>\n          {inConsultation === null ? (\n            <div className=\"flex justify-center\">\n              <button\n                className=\"bg-primary-600 text-white px-5 py-2 rounded-md font-medium hover:bg-primary-700\"\n                onClick={() => loadByStatus(CASE_STATUS.IN_CONSULTATION, (c) => setInConsultation(c))}\n              >\n                {t('admin.panel.loadCases')}\n              </button>\n            </div>\n          ) : (\n            <div className=\"bg-background-primary border border-border-primary rounded-md p-4\">\n              <CaseList cases={inConsultation} onCaseClick={(id) => {\n                const found = inConsultation?.find(c => String(c.id||'') === String(id));\n                if (found) setSelectedCase(found);\n              }} />\n            </div>\n          )}\n        </section>\n\n        <section className=\"bg-background-secondary border border-border-primary rounded-lg shadow-sm p-5\">\n          <h2 className=\"text-xl font-semibold mb-4\">{t('admin.panel.declined')}</h2>\n          {declined === null ? (\n            <div className=\"flex justify-center\">\n              <button\n                className=\"bg-primary-600 text-white px-5 py-2 rounded-md font-medium hover:bg-primary-700\"\n                onClick={() => loadByStatus(CASE_STATUS.DECLINED, (c) => setDeclined(c))}\n              >\n                {t('admin.panel.loadCases')}\n              </button>\n            </div>\n          ) : (\n            <div className=\"bg-background-primary border border-border-primary rounded-md p-4\">\n              <CaseList cases={declined} onCaseClick={(id) => {\n                const found = declined?.find(c => String(c.id||'') === String(id));\n                if (found) setSelectedCase(found);\n              }} />\n            </div>\n          )}\n        </section>\n\n        <section className=\"bg-background-secondary border border-border-primary rounded-lg shadow-sm p-5\">\n          <h2 className=\"text-xl font-semibold mb-4\">{t('admin.panel.finished')}</h2>\n          {finished === null ? (\n            <div className=\"flex justify-center\">\n              <button\n                className=\"bg-primary-600 text-white px-5 py-2 rounded-md font-medium hover:bg-primary-700\"\n                onClick={() => loadByStatus(CASE_STATUS.FINISHED, (c) => setFinished(c))}\n              >\n                {t('admin.panel.loadCases')}\n              </button>\n            </div>\n          ) : (\n            <div className=\"bg-background-primary border border-border-primary rounded-md p-4\">\n              <CaseList cases={finished} onCaseClick={(id) => {\n                const found = finished?.find(c => String(c.id||'') === String(id));\n                if (found) setSelectedCase(found);\n              }} />\n            </div>\n          )}\n        </section>\n      </div>\n      {/* Case details modal */}\n      <Modal\n        isOpen={selectedCase !== null}\n        onClose={() => setSelectedCase(null)}\n        size=\"xl\"\n        title={selectedCase ? `${t('case.overview.title')} #${selectedCase.id}` : undefined}\n      >\n        {selectedCase ? (\n          <CaseDetails caseData={selectedCase as Case} doctors={doctors} onUpdated={handleCaseUpdated} />\n        ) : null}\n      </Modal>\n    </AdminRoute>\n  );\n}\n\n","module.exports = require(\"jsqr\");","module.exports = require(\"next/dist/compiled/next-server/pages.runtime.prod.js\");","module.exports = require(\"next/dist/server/app-render/action-async-storage.external.js\");","module.exports = require(\"next/dist/server/app-render/work-async-storage.external.js\");","module.exports = require(\"next/dist/server/app-render/work-unit-async-storage.external.js\");","module.exports = require(\"react\");","module.exports = require(\"react-dom\");","module.exports = require(\"react/jsx-runtime\");","module.exports = require(\"fs\");","module.exports = require(\"path\");","module.exports = require(\"stream\");","module.exports = require(\"zlib\");","module.exports = import(\"@radix-ui/react-slot\");;","module.exports = import(\"aws-amplify\");;","module.exports = import(\"aws-amplify/auth\");;","module.exports = import(\"class-variance-authority\");;","module.exports = import(\"clsx\");;","module.exports = import(\"react-hook-form\");;","module.exports = import(\"tailwind-merge\");;","module.exports = import(\"zustand\");;"],"names":["AdminRoute","children","router","useRouter","t","useLanguage","checkingGroup","setCheckingGroup","useState","useEffect","check","session","fetchAuthSession","idPayload","tokens","idToken","payload","groups","includes","replace","ProtectedRoute","div","className","p","AdminPanelPage","workInProcess","setWorkInProcess","waitingForUser","setWaitingForUser","arranged","setArranged","inConsultation","setInConsultation","declined","setDeclined","finished","setFinished","initializing","setInitializing","selectedCase","setSelectedCase","doctors","setDoctors","loadByStatus","status","setter","http","HttpService","getInstance","res","getCasesByStatus","cases","insertOrReplace","list","updated","id","idx","findIndex","c","String","copy","slice","removeFromList","filter","mapStatusToListKey","CASE_STATUS","NEW","PAID","OFFER_SENT","WAITING_FOR_PAYMENT","TIMESLOTS_SENT","ARRANGED","IN_CONSULTATION","DECLINED","FINISHED","h1","section","h2","CaseList","onCaseClick","found","find","button","onClick","Modal","isOpen","onClose","size","title","undefined","CaseDetails","caseData","onUpdated","handleCaseUpdated","StatusUtils","toCaseStatus","name","target","prev"],"sourceRoot":""}