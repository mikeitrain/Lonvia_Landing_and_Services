(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[114],{5956:(e,i,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/administration",function(){return s(178)}])},3395:(e,i,s)=>{"use strict";s.d(i,{h:()=>o});var t=s(4848),a=s(6540),r=s(6715),l=s(98),n=s(548),c=s(5182);let o=e=>{let{children:i}=e,s=(0,r.useRouter)(),{t:o}=(0,l.o)(),[d,m]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(async()=>{try{var e,i;let t=await (0,n.$)(),a=null===(i=t.tokens)||void 0===i?void 0:null===(e=i.idToken)||void 0===e?void 0:e.payload;if(!((null==a?void 0:a["cognito:groups"])||[]).includes("admin")){s.replace("/user/profile");return}}finally{m(!1)}})()},[s]),(0,t.jsx)(c.O,{children:d?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background-secondary",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-body",children:o("common.loading")})]})}):(0,t.jsx)(t.Fragment,{children:i})})}},6577:(e,i,s)=>{"use strict";s.d(i,{R:()=>r});var t=s(4848);s(6540);var a=s(98);let r=e=>{let{isOpen:i,onClose:s,onConfirm:r,title:l,message:n,confirmText:c,cancelText:o}=e,{t:d}=(0,a.o)();return i?(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:s}),(0,t.jsxs)("div",{className:"relative bg-background-primary rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("h3",{className:"text-lg font-semibold text-foreground-primary",children:l})}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)("p",{className:"text-foreground-secondary",children:n})}),(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:s,className:"px-4 py-2 text-sm font-medium text-foreground-secondary bg-background-secondary border border-border-primary rounded-md hover:bg-background-tertiary transition-colors",children:o||d("case.details.cancel")}),(0,t.jsx)("button",{onClick:()=>{r(),s()},className:"px-4 py-2 text-sm font-medium text-white border border-accent-600 rounded-md bg-accent-500 hover:bg-accent-600 transition-colors",children:c||d("case.details.delete")})]})]})]}):null}},476:(e,i,s)=>{"use strict";s.d(i,{A:()=>n});var t=s(4848),a=s(6540),r=s(98),l=s(6802);let n=e=>{let{isOpen:i,onClose:s,title:n,children:c,size:o="lg"}=e,{t:d}=(0,r.o)();return((0,a.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s()};return i&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[i,s]),i)?(0,t.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:s}),(0,t.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"relative bg-background-primary rounded-xl shadow-xl border border-border-primary w-full ".concat({sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-7xl",full:"max-w-7xl"}[o]," max-h-[90vh] overflow-hidden"),onClick:e=>e.stopPropagation(),children:[n&&(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border-primary",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-foreground-primary",children:n}),(0,t.jsx)("button",{onClick:s,className:"text-foreground-tertiary hover:text-foreground-primary transition-colors duration-200 p-1 rounded-lg hover:bg-background-secondary","aria-label":d("common.close")||"Close",children:(0,t.jsx)(l.A,{className:"w-6 h-6"})})]}),(0,t.jsx)("div",{className:"overflow-y-auto max-h-[calc(90vh-120px)]",children:c})]})})]}):null}},178:(e,i,s)=>{"use strict";s.r(i),s.d(i,{default:()=>C});var t=s(4848),a=s(6540),r=s(3395),l=s(9970),n=s(98),c=s(9785),o=s(476),d=s(5287),m=s(8657);let u=e=>{let{doctor:i,isEditing:s,onSave:r,onCancel:l,availableSubspecialties:u=[],availableSpecialties:x=[],isLoading:p=!1}=e,{t:h}=(0,n.o)(),[v,y]=(0,a.useState)([]),[b,f]=(0,a.useState)(""),[g,j]=(0,a.useState)(""),{register:N,handleSubmit:w,formState:{errors:E,isValid:A},reset:S,watch:k}=(0,c.mN)({mode:"onChange",defaultValues:{title:"",licenseNumber:"",licenseExpiryDate:"",isActive:!0,bio:"",consultationFee:0,lan:"de",firstName:"",lastName:"",email:"",specialtyId:0,subspecialtyId:0}}),C=k("specialtyId");(0,a.useEffect)(()=>{if(i){var e,s,t,a;let r=0,l=0,n=[];if(i.specialties&&i.specialties.length>0){let e=i.specialties.find(e=>e.isPrimary);e&&(r=e.specialty.id,l=(null===(t=e.subspecialty)||void 0===t?void 0:t.id)||0,n=i.specialties.filter(e=>!e.isPrimary))}S({title:i.title||"",licenseNumber:i.licenseNumber||"",licenseExpiryDate:i.licenseExpiryDate||"",isActive:null===(a=i.isActive)||void 0===a||a,bio:i.bio||"",consultationFee:i.consultationFee||0,lan:i.lan||"de",firstName:(null===(e=i.user)||void 0===e?void 0:e.firstName)||"",lastName:(null===(s=i.user)||void 0===s?void 0:s.lastName)||"",email:"",specialtyId:r,subspecialtyId:l}),y(n)}else S({title:"",licenseNumber:"",licenseExpiryDate:"",isActive:!0,bio:"",consultationFee:0,lan:"de",firstName:"",lastName:"",email:"",specialtyId:0,subspecialtyId:0}),y([]),f(""),j("")},[i,S,x]),(0,a.useEffect)(()=>{C&&C>0&&S({...k(),subspecialtyId:0})},[C,S,k]);let D=e=>{if(null!=e){if(Array.isArray(e))return e.map(D).filter(e=>void 0!==e);if("object"==typeof e&&null!==e){let i={};for(let[s,t]of Object.entries(e)){let e=D(t);null!=e&&(i[s]=e)}return Object.keys(i).length>0?i:void 0}return e}};return(0,t.jsx)(o.A,{isOpen:!0,onClose:l,title:h(s?"doctor.details.edit":"doctor.details.create"),size:"lg",children:(0,t.jsxs)("form",{onSubmit:w(e=>{var s,t;let a=Number(e.specialtyId),l=Number(e.subspecialtyId),n=Number(e.consultationFee)||0,c=[...v||[]];if(a&&a>0){let e=x.find(e=>e.id===a);if(e){let i=l&&l>0?null===(t=e.subspecialties)||void 0===t?void 0:t.find(e=>e.id===l):null;c=[{id:0,doctorProfileId:0,specialty:e,subspecialty:i||void 0,isPrimary:!0,createdAt:new Date},...c]}}r(D({title:e.title,licenseNumber:e.licenseNumber,licenseExpiryDate:e.licenseExpiryDate,isActive:e.isActive,bio:e.bio,consultationFee:n,lan:e.lan,userId:null==i?void 0:i.userId,specialties:c,user:{...null==i?void 0:i.user,firstName:e.firstName,lastName:e.lastName,id:(null==i?void 0:null===(s=i.user)||void 0===s?void 0:s.id)||"",email:e.email}}))}),className:"p-6 space-y-6",children:[(0,t.jsx)(m.A,{register:N,errors:E,watch:k,availableSpecialties:x,specialties:v||[],additionalSpecialtyId:b,additionalSubspecialtyId:g,onAdditionalSpecialtyChange:f,onAdditionalSubspecialtyChange:j,onAddSpecialty:()=>{if(b){let i=x.find(e=>e.id===Number(b));if(i){var e;let s=g?null===(e=i.subspecialties)||void 0===e?void 0:e.find(e=>e.id===Number(g)):null;if(!(null==v?void 0:v.some(e=>{var i;return e.specialty.id===Number(b)&&(null===(i=e.subspecialty)||void 0===i?void 0:i.id)===((null==s?void 0:s.id)||null)}))){let e={id:0,doctorProfileId:0,specialty:i,subspecialty:s||void 0,isPrimary:!1,createdAt:new Date};y(i=>[...i||[],e]),j(""),f("")}}}},onRemoveSpecialty:e=>{y(i=>(i||[]).filter(i=>i.specialty.id!==e))},showEmailField:!s,showIsActiveField:!0,isActive:k("isActive"),onIsActiveChange:e=>{S({...k(),isActive:e})}}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3 p-6 border-t border-border-primary",children:[(0,t.jsx)(d.$,{type:"button",onClick:l,variant:"outline",disabled:p,children:h("doctor.details.cancel")}),(0,t.jsx)(d.$,{type:"submit",disabled:p||!A||!C||0===C,children:h(p?"common.working":"doctor.details.save")})]})]})})};var x=s(6577);let p=a.forwardRef(function(e,i){let{title:s,titleId:t,...r}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),s?a.createElement("title",{id:t},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))});var h=s(1829),v=s(3222),y=s(9868);let b=e=>{let{className:i="",specialties:s,onSpecialtiesUpdate:r}=e,{t:l,language:c}=(0,n.o)(),[o,m]=(0,a.useState)([]),[b,f]=(0,a.useState)(null),[g,j]=(0,a.useState)(s||[]),[N,w]=(0,a.useState)(!0),[E,A]=(0,a.useState)(!1),[S,k]=(0,a.useState)(!1),[C,D]=(0,a.useState)(!1),[R,q]=(0,a.useState)(!1),I=y.k.getInstance();(0,a.useEffect)(()=>{(async()=>{w(!0);try{let e=await I.getAllDoctors({});if(m(e.doctors||[]),s)j(s);else{let e=await I.getAllSpecialties();j(e)}}finally{w(!1)}})()},[I,s]);let $=e=>{f(e)},z=e=>{f(e),D(!0),k(!0)},L=async()=>{if(b){var e;await I.deleteDoctor((null===(e=b.id)||void 0===e?void 0:e.toString())||""),m(o.filter(e=>e.id!==b.id)),f(null)}q(!1)},O=async e=>{A(!0);try{var i;let s=!C&&(null===(i=e.user)||void 0===i?void 0:i.email)?{email:e.user.email}:void 0,t=await I.upsertDoctor(e,s);C&&b?m(o.map(e=>e.id===b.id?t:e)):m([...o,t]),k(!1),f(null),D(!1)}finally{A(!1)}},T=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return N?(0,t.jsx)("div",{className:"text-center py-12 ".concat(i),children:(0,t.jsx)("div",{className:"text-foreground-tertiary",children:(0,t.jsx)("h3",{className:"text-lg font-semibold text-foreground-primary mb-2",children:l("doctor.overview.loading")})})}):(0,t.jsxs)("div",{className:"space-y-6 ".concat(i),children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-foreground-primary",children:l("doctor.overview.title")}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsxs)(d.$,{onClick:()=>{f(null),D(!1),k(!0)},className:"flex items-center",children:[(0,t.jsx)(p,{className:"w-5 h-5 mr-2"}),l("doctor.overview.add")]}),(0,t.jsxs)(d.$,{onClick:()=>{q(!0)},disabled:!b,variant:"destructive",className:"flex items-center",children:[(0,t.jsx)(h.A,{className:"w-5 h-5 mr-2"}),l("doctor.overview.delete")]})]})]}),o&&0!==o.length?(0,t.jsx)("div",{className:"space-y-4",children:(o||[]).map(e=>{var i,s;return(0,t.jsx)("div",{className:"bg-background-primary border rounded-lg p-6 hover:shadow-lg transition-all duration-200 cursor-pointer ".concat((null==b?void 0:b.id)===e.id?"border-primary-500 bg-primary-50":"border-border-primary hover:border-border-secondary"),onClick:()=>$(e),onDoubleClick:()=>z(e),children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,t.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium shadow-sm ".concat(e.isActive?"bg-success-100 text-success-800":"bg-gray-100 text-gray-800"),children:e.isActive?"Active":"Inactive"}),(0,t.jsx)("span",{className:"text-sm text-foreground-secondary",children:e.title})]}),(0,t.jsxs)("div",{className:"text-lg font-semibold text-foreground-primary mb-2",children:[null===(i=e.user)||void 0===i?void 0:i.firstName," ",null===(s=e.user)||void 0===s?void 0:s.lastName]}),e.bio&&(0,t.jsx)("div",{className:"text-sm text-foreground-secondary mb-3",children:e.bio.length>150?"".concat(e.bio.substring(0,150),"..."):e.bio}),(0,t.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-foreground-secondary",children:[e.licenseNumber&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"License:"})," ",e.licenseNumber]}),e.consultationFee&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Fee:"})," LEI ",e.consultationFee]}),e.specialties&&e.specialties.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Specialties:"})," ",e.specialties.map(e=>{let i="de"===c?e.specialty.nameDe:"ro"===c?e.specialty.nameRo:e.specialty.nameEn,s=e.subspecialty?"de"===c?e.subspecialty.nameDe:"ro"===c?e.subspecialty.nameRo:e.subspecialty.nameEn:null;return s?"".concat(i," - ").concat(s):i}).join(", ")]})]})]}),e.licenseExpiryDate&&(0,t.jsx)("div",{className:"flex-shrink-0 ml-4",children:(0,t.jsxs)("div",{className:"text-sm text-foreground-tertiary text-right",children:[(0,t.jsx)("div",{className:"font-medium text-foreground-primary",children:"License Expires"}),(0,t.jsx)("div",{className:"text-foreground-tertiary",children:T(e.licenseExpiryDate)})]})})]})},e.id)})}):(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsxs)("div",{className:"text-foreground-tertiary",children:[(0,t.jsx)(v.A,{className:"mx-auto h-16 w-16 text-foreground-tertiary mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-foreground-primary mb-2",children:l("doctor.overview.noDoctors")}),(0,t.jsx)("p",{className:"text-sm text-foreground-secondary",children:l("doctor.overview.noDoctorsDescription")})]})}),S&&(0,t.jsx)(u,{doctor:b,isEditing:C,onSave:O,onCancel:()=>{k(!1),f(null),D(!1)},isLoading:E,availableSpecialties:g,onSpecialtiesUpdate:r}),(0,t.jsx)(x.R,{isOpen:R,onClose:()=>q(!1),onConfirm:L,title:l("doctor.delete.title"),message:l("doctor.delete.message"),confirmText:l("doctor.delete.confirm"),cancelText:l("doctor.delete.cancel")})]})},f=e=>{let{id:i,checked:s,onChange:a,label:r,disabled:l=!1,className:n=""}=e;return(0,t.jsxs)("div",{className:"flex items-center ".concat(n),children:[(0,t.jsx)("input",{type:"checkbox",id:i,checked:s,onChange:e=>a(e.target.checked),disabled:l,className:"w-4 h-4 text-primary-600 bg-white border-border-primary rounded checked:bg-primary-600 checked:border-primary-600"}),(0,t.jsx)("label",{htmlFor:i,className:"ml-2 text-sm font-medium text-foreground-primary",children:r})]})};var g=s(5065),j=s(9389),N=s(6802),w=s(8363);let E=a.forwardRef(function(e,i){let{title:s,titleId:t,...r}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),s?a.createElement("title",{id:t},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}),A=e=>{var i,s,r,l;let{specialties:o,onSpecialtySelect:m,selectedSpecialty:u,onSpecialtiesUpdate:p,className:v=""}=e,{t:b,language:A}=(0,n.o)(),[S,k]=(0,a.useState)(null),[C,D]=(0,a.useState)(!1),[R,q]=(0,a.useState)(!1),[I,$]=(0,a.useState)(null),z=y.k.getInstance(),{register:L,handleSubmit:O,formState:{errors:T},reset:F,watch:P,setValue:_}=(0,c.mN)({defaultValues:{nameDe:"",nameEn:"",nameRo:"",description:"",isActive:!0}}),U=e=>{k(e.id),F({nameDe:e.nameDe,nameEn:e.nameEn,nameRo:e.nameRo,description:e.description||"",isActive:e.isActive}),D(!1)},M=()=>{k(null),D(!1),F({nameDe:"",nameEn:"",nameRo:"",description:"",isActive:!0})},G=async(e,i)=>{if(!e.nameDe.trim()||!e.nameEn.trim()||!e.nameRo.trim())return;let s={nameDe:e.nameDe.trim(),nameEn:e.nameEn.trim(),nameRo:e.nameRo.trim(),description:e.description.trim()||null,isActive:e.isActive};i?await z.upsertSpecialty({...s,id:i}):await z.upsertSpecialty(s),p(),M()},B=e=>{$(e),q(!0)},V=async()=>{if(I)try{await z.deleteSpecialty(I.id.toString()),p()}finally{q(!1),$(null)}},W=e=>{m(e)};return(0,t.jsxs)("div",{className:"space-y-4 ".concat(v),children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-foreground-primary",children:b("specialty.title")}),(0,t.jsx)(d.$,{onClick:()=>{D(!0),k(null),F({nameDe:"",nameEn:"",nameRo:"",description:"",isActive:!0})},disabled:C||null!==S,size:"icon",className:"h-8 w-8",title:b("specialty.add"),children:(0,t.jsx)(j.A,{className:"!w-6 !h-6"})})]}),C&&(0,t.jsxs)("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-foreground-primary mb-3",children:b("specialty.addNew")}),(0,t.jsxs)("form",{onSubmit:O(e=>G(e)),className:"space-y-3",children:[(0,t.jsx)(g.l,{label:"".concat(b("specialty.name")," (DE)"),name:"nameDe",register:L,required:!0,error:null===(i=T.nameDe)||void 0===i?void 0:i.message,validation:{required:"German name is required"},placeholder:"Deutscher Name"}),(0,t.jsx)(g.l,{label:"".concat(b("specialty.name")," (EN)"),name:"nameEn",register:L,required:!0,error:null===(s=T.nameEn)||void 0===s?void 0:s.message,validation:{required:"English name is required"},placeholder:"English Name"}),(0,t.jsx)(g.l,{label:"".concat(b("specialty.name")," (RO)"),name:"nameRo",register:L,required:!0,error:null===(r=T.nameRo)||void 0===r?void 0:r.message,validation:{required:"Romanian name is required"},placeholder:"Nume Rom\xe2nă"}),(0,t.jsx)(g.l,{label:b("specialty.description"),name:"description",register:L,error:null===(l=T.description)||void 0===l?void 0:l.message,placeholder:b("specialty.descriptionPlaceholder")}),(0,t.jsx)(f,{id:"isActive",checked:P("isActive"),onChange:e=>_("isActive",e),label:b("specialty.active")}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,t.jsx)(d.$,{type:"button",onClick:M,variant:"outline",size:"icon",className:"h-8 w-8 border-error-500 text-error-600 hover:bg-error-50 hover:border-error-600",title:b("specialty.cancel"),children:(0,t.jsx)(N.A,{className:"!w-6 !h-6 text-error-600"})}),(0,t.jsx)(d.$,{type:"submit",size:"icon",className:"h-8 w-8",title:b("specialty.save"),children:(0,t.jsx)(w.A,{className:"!w-6 !h-6"})})]})]})]}),(0,t.jsx)("div",{className:"space-y-2",children:0===o.length?(0,t.jsx)("div",{className:"text-center py-8 text-foreground-tertiary",children:(0,t.jsx)("p",{children:b("specialty.noSpecialties")})}):o.map(e=>{var i,s,a,r,l;return(0,t.jsx)("div",{className:"border rounded-lg p-4 transition-all duration-200 ".concat((null==u?void 0:u.id)===e.id?"border-primary-500 bg-primary-50":"border-border-primary hover:border-border-secondary hover:shadow-sm"),children:S===e.id?(0,t.jsxs)("form",{onSubmit:O(i=>G(i,e.id)),className:"space-y-3",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-foreground-primary",children:b("specialty.edit")}),(0,t.jsx)(g.l,{label:"".concat(b("specialty.name")," (DE)"),name:"nameDe",register:L,required:!0,error:null===(i=T.nameDe)||void 0===i?void 0:i.message,validation:{required:"German name is required"},placeholder:"Deutscher Name"}),(0,t.jsx)(g.l,{label:"".concat(b("specialty.name")," (EN)"),name:"nameEn",register:L,required:!0,error:null===(s=T.nameEn)||void 0===s?void 0:s.message,validation:{required:"English name is required"},placeholder:"English Name"}),(0,t.jsx)(g.l,{label:"".concat(b("specialty.name")," (RO)"),name:"nameRo",register:L,required:!0,error:null===(a=T.nameRo)||void 0===a?void 0:a.message,validation:{required:"Romanian name is required"},placeholder:"Nume Rom\xe2nă"}),(0,t.jsx)(g.l,{label:b("specialty.description"),name:"description",register:L,error:null===(r=T.description)||void 0===r?void 0:r.message,placeholder:b("specialty.descriptionPlaceholder")}),(0,t.jsx)(f,{id:"isActive-".concat(e.id),checked:P("isActive"),onChange:e=>_("isActive",e),label:b("specialty.active")}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,t.jsx)(d.$,{type:"button",onClick:M,variant:"outline",size:"icon",className:"h-8 w-8 border-error-500 text-error-600 hover:bg-error-50 hover:border-error-600",title:b("specialty.cancel"),children:(0,t.jsx)(N.A,{className:"!w-6 !h-6 text-error-600"})}),(0,t.jsx)(d.$,{type:"submit",size:"icon",className:"h-8 w-8",title:b("specialty.save"),children:(0,t.jsx)(w.A,{className:"!w-6 !h-6"})})]})]}):(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1 cursor-pointer",onClick:()=>W(e),children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,t.jsx)("h4",{className:"font-medium text-foreground-primary",children:"de"===A?e.nameDe:"ro"===A?e.nameRo:e.nameEn}),(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(e.isActive?"bg-success-100 text-success-800":"bg-gray-100 text-gray-800"),children:e.isActive?b("specialty.active"):b("specialty.inactive")})]}),e.description&&(0,t.jsx)("p",{className:"text-sm text-foreground-secondary mb-2",children:e.description}),(0,t.jsxs)("p",{className:"text-xs text-foreground-tertiary",children:[(null===(l=e.subspecialties)||void 0===l?void 0:l.length)||0," ",b("specialty.subspecialtiesCount")]})]}),(0,t.jsxs)("div",{className:"flex space-x-1 ml-4",children:[(0,t.jsx)(d.$,{onClick:()=>U(e),variant:"ghost",size:"icon",className:"h-8 w-8",title:b("specialty.editTitle"),children:(0,t.jsx)(E,{className:"w-4 h-4"})}),(0,t.jsx)(d.$,{onClick:()=>B(e),variant:"ghost",size:"icon",className:"h-8 w-8 text-error-600 hover:text-error-800 hover:bg-error-50",title:b("specialty.deleteTitle"),children:(0,t.jsx)(h.A,{className:"w-4 h-4"})})]})]})},e.id)})}),(0,t.jsx)(x.R,{isOpen:R,onClose:()=>{q(!1),$(null)},onConfirm:V,title:b("specialty.deleteTitle"),message:b("specialty.deleteConfirm"),confirmText:b("specialty.delete"),cancelText:b("specialty.cancel")})]})},S=e=>{var i,s,r,l;let{subspecialties:o,specialtyId:m,onSubspecialtiesUpdate:u,className:p=""}=e,{t:v,language:b}=(0,n.o)(),[A,S]=(0,a.useState)(null),[k,C]=(0,a.useState)(!1),[D,R]=(0,a.useState)(!1),[q,I]=(0,a.useState)(null),$=y.k.getInstance(),{register:z,handleSubmit:L,formState:{errors:O},reset:T,watch:F,setValue:P}=(0,c.mN)({defaultValues:{nameDe:"",nameEn:"",nameRo:"",description:"",isActive:!0}}),_=e=>{S(e.id),T({nameDe:e.nameDe,nameEn:e.nameEn,nameRo:e.nameRo,description:e.description||"",isActive:e.isActive}),C(!1)},U=()=>{S(null),C(!1),T({nameDe:"",nameEn:"",nameRo:"",description:"",isActive:!0})},M=async(e,i)=>{if(!e.nameDe.trim()||!e.nameEn.trim()||!e.nameRo.trim()||!m)return;let s={nameDe:e.nameDe.trim(),nameEn:e.nameEn.trim(),nameRo:e.nameRo.trim(),description:e.description.trim()||null,isActive:e.isActive};i?await $.upsertSubspecialty({...s,id:i},m):await $.upsertSubspecialty(s,m),u(),U()},G=e=>{I(e),R(!0)},B=async()=>{if(q)try{await $.deleteSubspecialty(q.id.toString()),u()}finally{R(!1),I(null)}};return m?(0,t.jsxs)("div",{className:"space-y-4 ".concat(p),children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-foreground-primary",children:v("subspecialty.title")}),(0,t.jsx)(d.$,{onClick:()=>{m&&(C(!0),S(null),T({nameDe:"",nameEn:"",nameRo:"",description:"",isActive:!0}))},disabled:k||null!==A,size:"icon",className:"h-8 w-8",title:v("subspecialty.add"),children:(0,t.jsx)(j.A,{className:"!w-6 !h-6"})})]}),k&&(0,t.jsxs)("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-foreground-primary mb-3",children:v("subspecialty.addNew")}),(0,t.jsxs)("form",{onSubmit:L(e=>M(e)),className:"space-y-3",children:[(0,t.jsx)(g.l,{label:"".concat(v("subspecialty.name")," (DE)"),name:"nameDe",register:z,required:!0,error:null===(i=O.nameDe)||void 0===i?void 0:i.message,validation:{required:"German name is required"},placeholder:"Deutscher Name"}),(0,t.jsx)(g.l,{label:"".concat(v("subspecialty.name")," (EN)"),name:"nameEn",register:z,required:!0,error:null===(s=O.nameEn)||void 0===s?void 0:s.message,validation:{required:"English name is required"},placeholder:"English Name"}),(0,t.jsx)(g.l,{label:"".concat(v("subspecialty.name")," (RO)"),name:"nameRo",register:z,required:!0,error:null===(r=O.nameRo)||void 0===r?void 0:r.message,validation:{required:"Romanian name is required"},placeholder:"Nume Rom\xe2nă"}),(0,t.jsx)(g.l,{label:v("subspecialty.description"),name:"description",register:z,error:null===(l=O.description)||void 0===l?void 0:l.message,placeholder:v("subspecialty.descriptionPlaceholder")}),(0,t.jsx)(f,{id:"isActive",checked:F("isActive"),onChange:e=>P("isActive",e),label:v("subspecialty.active")}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,t.jsx)(d.$,{type:"button",onClick:U,variant:"outline",size:"icon",className:"h-8 w-8 border-error-500 text-error-600 hover:bg-error-50 hover:border-error-600",title:v("subspecialty.cancel"),children:(0,t.jsx)(N.A,{className:"!w-6 !h-6 text-error-600"})}),(0,t.jsx)(d.$,{type:"submit",size:"icon",className:"h-8 w-8",title:v("subspecialty.save"),children:(0,t.jsx)(w.A,{className:"!w-6 !h-6"})})]})]})]}),(0,t.jsx)("div",{className:"space-y-2",children:0===o.length?(0,t.jsx)("div",{className:"text-center py-8 text-foreground-tertiary",children:(0,t.jsx)("p",{children:v("subspecialty.noSubspecialties")})}):o.map(e=>{var i,s,a,r;return(0,t.jsx)("div",{className:"border border-border-primary rounded-lg p-4 hover:border-border-secondary hover:shadow-sm transition-all duration-200",children:A===e.id?(0,t.jsxs)("form",{onSubmit:L(i=>M(i,e.id)),className:"space-y-3",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-foreground-primary",children:v("subspecialty.edit")}),(0,t.jsx)(g.l,{label:"".concat(v("subspecialty.name")," (DE)"),name:"nameDe",register:z,required:!0,error:null===(i=O.nameDe)||void 0===i?void 0:i.message,validation:{required:"German name is required"},placeholder:"Deutscher Name"}),(0,t.jsx)(g.l,{label:"".concat(v("subspecialty.name")," (EN)"),name:"nameEn",register:z,required:!0,error:null===(s=O.nameEn)||void 0===s?void 0:s.message,validation:{required:"English name is required"},placeholder:"English Name"}),(0,t.jsx)(g.l,{label:"".concat(v("subspecialty.name")," (RO)"),name:"nameRo",register:z,required:!0,error:null===(a=O.nameRo)||void 0===a?void 0:a.message,validation:{required:"Romanian name is required"},placeholder:"Nume Rom\xe2nă"}),(0,t.jsx)(g.l,{label:v("subspecialty.description"),name:"description",register:z,error:null===(r=O.description)||void 0===r?void 0:r.message,placeholder:v("subspecialty.descriptionPlaceholder")}),(0,t.jsx)(f,{id:"isActive-".concat(e.id),checked:F("isActive"),onChange:e=>P("isActive",e),label:v("subspecialty.active")}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,t.jsx)(d.$,{type:"button",onClick:U,variant:"outline",size:"icon",className:"h-8 w-8 border-error-500 text-error-600 hover:bg-error-50 hover:border-error-600",title:v("subspecialty.cancel"),children:(0,t.jsx)(N.A,{className:"!w-6 !h-6 text-error-600"})}),(0,t.jsx)(d.$,{type:"submit",size:"icon",className:"h-8 w-8",title:v("subspecialty.save"),children:(0,t.jsx)(w.A,{className:"!w-6 !h-6"})})]})]}):(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,t.jsx)("h4",{className:"font-medium text-foreground-primary",children:"de"===b?e.nameDe:"ro"===b?e.nameRo:e.nameEn}),(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(e.isActive?"bg-success-100 text-success-800":"bg-gray-100 text-gray-800"),children:e.isActive?v("subspecialty.active"):v("subspecialty.inactive")})]}),e.description&&(0,t.jsx)("p",{className:"text-sm text-foreground-secondary",children:e.description})]}),(0,t.jsxs)("div",{className:"flex space-x-1 ml-4",children:[(0,t.jsx)(d.$,{onClick:()=>_(e),variant:"ghost",size:"icon",className:"h-8 w-8",title:v("subspecialty.editTitle"),children:(0,t.jsx)(E,{className:"w-4 h-4"})}),(0,t.jsx)(d.$,{onClick:()=>G(e),variant:"ghost",size:"icon",className:"h-8 w-8 text-error-600 hover:text-error-800 hover:bg-error-50",title:v("subspecialty.deleteTitle"),children:(0,t.jsx)(h.A,{className:"w-4 h-4"})})]})]})},e.id)})}),(0,t.jsx)(x.R,{isOpen:D,onClose:()=>{R(!1),I(null)},onConfirm:B,title:v("subspecialty.deleteTitle"),message:v("subspecialty.deleteConfirm"),confirmText:v("subspecialty.delete"),cancelText:v("subspecialty.cancel")})]}):(0,t.jsx)("div",{className:"text-center py-12 ".concat(p),children:(0,t.jsxs)("div",{className:"text-foreground-tertiary",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-foreground-primary mb-2",children:v("specialtyContainer.selectSpecialty")}),(0,t.jsx)("p",{className:"text-sm",children:v("specialtyContainer.selectSpecialtyMessage")})]})})},k=e=>{let{className:i="",specialties:s,onSpecialtiesUpdate:r}=e,{t:l}=(0,n.o)(),[c,o]=(0,a.useState)(s||[]),[d,m]=(0,a.useState)(null),[u,x]=(0,a.useState)(!0),p=y.k.getInstance(),h=(0,a.useCallback)(async()=>{x(!0);try{if(s)o(s);else{let e=await p.getAllSpecialties();o(e)}}finally{x(!1)}},[p,s]);(0,a.useEffect)(()=>{h()},[h]),(0,a.useEffect)(()=>{s&&o(s)},[s]);let v=async()=>{let e=await p.getAllSpecialties();if(o(e),d){let i=e.find(e=>e.id===d.id);i&&m(i)}r&&r()};return u?(0,t.jsx)("div",{className:"text-center py-12 ".concat(i),children:(0,t.jsxs)("div",{className:"text-foreground-tertiary",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-foreground-primary mb-2",children:l("specialtyContainer.loading")}),(0,t.jsx)("p",{className:"text-sm",children:l("specialtyContainer.loadingMessage")})]})}):(0,t.jsxs)("div",{className:"space-y-6 ".concat(i),children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-foreground-primary",children:l("specialtyContainer.title")}),(0,t.jsx)("p",{className:"text-sm text-foreground-secondary mt-1",children:l("specialtyContainer.subtitle")})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsx)("div",{className:"bg-background-primary border border-border-primary rounded-lg p-4",children:(0,t.jsx)(A,{specialties:c,onSpecialtySelect:e=>{m(e)},selectedSpecialty:d,onSpecialtiesUpdate:()=>{r?r():h()}})})}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsx)("div",{className:"bg-background-primary border border-border-primary rounded-lg p-4",children:(0,t.jsx)(S,{subspecialties:(null==d?void 0:d.subspecialties)||[],specialtyId:(null==d?void 0:d.id)||null,onSubspecialtiesUpdate:v})})})]})]})};function C(){let{t:e}=(0,n.o)(),[i,s]=(0,a.useState)("doctors"),[c,o]=(0,a.useState)([]),[d,m]=(0,a.useState)(!0),u=y.k.getInstance(),x=(0,a.useCallback)(async()=>{m(!0);try{let e=await u.getAllSpecialties();o(e)}finally{m(!1)}},[u]);(0,a.useEffect)(()=>{x()},[x]);let p=(0,a.useCallback)(()=>{x()},[x]),h=(0,a.useMemo)(()=>[{id:"doctors",label:e("admin.administration.doctors")},{id:"specialties",label:e("admin.administration.specialties")},{id:"users",label:e("admin.administration.users")},{id:"settings",label:e("admin.administration.settings")},{id:"reports",label:e("admin.administration.reports")}],[e]);return(0,t.jsx)(r.h,{children:(0,t.jsx)(l.A,{title:e("admin.administration.title"),subtitle:e("admin.administration.subtitle"),menuItems:h,activeSection:i,onSectionChange:s,children:(()=>{switch(i){case"doctors":return(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)(b,{specialties:c,onSpecialtiesUpdate:p})});case"specialties":return(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)(k,{specialties:c,onSpecialtiesUpdate:p})});case"settings":return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4 text-foreground-primary",children:e("admin.administration.settings")}),(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-foreground-secondary",children:"System settings functionality will be implemented here."})})]});case"reports":return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4 text-foreground-primary",children:e("admin.administration.reports")}),(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-foreground-secondary",children:"Reports and analytics functionality will be implemented here."})})]});default:return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4 text-foreground-primary",children:e("admin.administration.doctors")}),(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-foreground-secondary",children:"Doctor management functionality will be implemented here."})})]})}})()})})}},8363:(e,i,s)=>{"use strict";s.d(i,{A:()=>a});var t=s(6540);let a=t.forwardRef(function(e,i){let{title:s,titleId:a,...r}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":a},r),s?t.createElement("title",{id:a},s):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))})}},e=>{var i=i=>e(e.s=i);e.O(0,[785,403,636,593,792],()=>i(5956)),_N_E=e.O()}]);
//# sourceMappingURL=administration-d126808cb975f04b.js.map