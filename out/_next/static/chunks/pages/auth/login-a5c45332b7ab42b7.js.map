{"version":3,"file":"static/chunks/pages/auth/login-a5c45332b7ab42b7.js","mappings":"6EACA,4CACA,cACA,WACA,OAAe,EAAQ,IAAmC,CAC1D,EACA,UAFsB,8DCYf,IAAMA,EAAiB,OAAwB,OACpDC,CAAK,MACLC,CAAI,UACJC,CAAQ,OACRC,CAAK,UACLC,GAAW,CAAK,SAChBC,CAAO,YACPC,EAAa,CAAC,CAAC,WACfC,EAAY,EAAE,MACdC,EAAO,MAAM,aACbC,CAAW,CACY,GACvB,MACE,WAACC,MAAAA,CAAIH,UAAW,QAAkB,OAAVA,aACtB,WAACG,MAAAA,CAAIH,UAAU,oCACb,WAACP,QAAAA,CAAMO,UAAU,0DACdP,EACAI,GAAY,UAACO,OAAAA,CAAKJ,UAAU,+BAAsB,SAEpDF,GACC,WAACK,MAAAA,CAAIH,UAAU,2BACb,UAACI,OAAAA,CAAKJ,UAAU,gFACd,UAACK,EAAAA,CAAqBA,CAAAA,CAACL,UAAU,cAEnC,UAACG,MAAAA,CAAIH,UAAU,2HACZF,UAKT,UAACQ,QAAAA,CACCL,KAAMA,EACNC,YAAaA,EACZ,GAAGP,EAASD,EAAMK,EAAW,CAC9BC,UAAU,gBAEXJ,GAAS,UAACW,IAAAA,CAAEP,UAAU,uCAA+BJ,MAG5D,EAAE,6LCpCK,IAAMY,EAAkB,SAkEVC,EAgBAA,EAjFnB,IAAMC,EAASC,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,GAClB,CAACC,EAAWC,EAAa,CAAGC,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,EAAC,GACrC,CAACC,EAAYC,EAAc,CAAGF,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,EAAC,GACvC,OAAEG,CAAK,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,CAAOA,GACnB,CAAEC,iBAAe,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,CAAgBA,GACtC,GAAEC,CAAC,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,CAAWA,GACnB,UAAE3B,CAAQ,cAAE4B,CAAY,CAAEC,UAAW,QAAEf,CAAM,CAAE,CAAE,CAAGgB,CAAAA,EAAAA,EAAAA,EAAAA,CAAOA,GAE3DC,EAAW,MAAOC,IACtBd,GAAa,GAEb,GAAI,CAEF,GADgB,CACZe,KADkBX,EAAMU,EACf,KADyB,CAAEA,EAAKE,QAAQ,GAKnD,GAHAV,EAAgB,UAAWE,EAAE,oBAAqB,KAG9CS,EAAAA,CAAeA,CAACC,cAAc,GAEhCZ,CAFoC,CAEpB,UAAWE,EAAE,6BAA+B,mCAAoC,KAEhGX,EAAOsB,IAAI,CAAC,qBAGZ,GAAI,KAEgBC,EAAAA,EADlB,IAAMA,EAAU,MAAM,OAAO,8BAAyB,CAAGC,gBAAgB,GACnEC,EAAAA,QAAYF,EAAAA,EAAQG,MAAAA,GAARH,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,QAAAA,EAAAA,EAAgBI,OAAAA,GAAhBJ,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAyBK,OAAO,CAC5CC,EAAS,OAACJ,EAAAA,KAAAA,EAAAA,CAAW,CAAC,WAAZA,MAAY,GAA8C,EAAE,CAC5EzB,EAAOsB,IAAI,CAACQ,CAAAA,EAAAA,EAAAA,EAAAA,CAAeA,CAACD,GAC9B,CAAE,QAAM,CACN7B,EAAOsB,IAAI,CAAC,gBACd,EAGN,QAAU,CACRnB,GAAa,EACf,CACF,EAEA,MACE,UAACV,MAAAA,CAAIH,UAAU,wBACb,WAACG,MAAAA,CAAIH,UAAU,yCACb,WAACG,MAAAA,CAAIH,UAAU,8BACb,UAACyC,KAAAA,CAAGzC,UAAU,2DACXqB,EAAE,gBAAkB,iBAEvB,UAACd,IAAAA,CAAEP,UAAU,6CACVqB,EAAE,mBAAqB,sCAI5B,WAAClB,MAAAA,CAAIH,UAAU,6EACb,UAAC0C,KAAAA,CAAG1C,UAAU,2EACXqB,EAAE,iBAAmB,YAExB,UAACd,IAAAA,CAAEP,UAAU,sDACVqB,EAAE,2BAA6B,uCAGlC,WAACsB,OAAAA,CAAK3C,UAAU,YAAY0B,SAAUH,EAAaG,aACjD,UAAClC,EAAAA,CAAcA,CAAAA,CACbC,MAAO4B,EAAE,eAAiB,gBAC1B3B,KAAK,QACLO,KAAK,QACLN,SAAUA,EACVC,KAAK,SAAEa,EAAAA,EAAOmC,KAAAA,GAAPnC,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAcoC,OAAO,CAC5BhD,QAAQ,IACRE,WAAY,CACVF,SAAU,CAACwB,EAAE,eAAiB,QAAM,CAAK,eACzCyB,QAAS,CACPC,MAAO,2CACPF,QAASxB,EAAE,0BACb,CACF,IAGF,UAAC7B,EAAAA,CAAcA,CAAAA,CACbC,MAAO4B,EAAE,kBAAoB,WAC7B3B,KAAK,WACLO,KAAK,WACLN,SAAUA,EACVC,KAAK,SAAEa,EAAAA,EAAOoB,QAAQ,GAAfpB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAiBoC,OAAO,CAC/BhD,QAAQ,IACRE,WAAY,CACVF,SAAU,CAACwB,EAAE,kBAAoB,WAAS,CAAK,eAC/C2B,UAAW,CACTD,MAAO,EACPF,QAASxB,EAAE,+BACb,CACF,IAGF,WAAClB,MAAAA,CAAIH,UAAU,8CACb,WAACG,MAAAA,CAAIH,UAAU,8BACb,UAACM,QAAAA,CACC2C,GAAG,cACHvD,KAAK,cACLO,KAAK,WACLiD,QAASnC,EACToC,SAAU,GAAOnC,EAAcoC,EAAEC,MAAM,CAACH,OAAO,EAC/ClD,UAAU,kFAEZ,UAACP,QAAAA,CAAM6D,QAAQ,cAActD,UAAU,wDACpCqB,EAAE,qBAAuB,mBAI9B,UAACkC,IAAIA,CACHC,KAAK,KADFD,mBAEHvD,UAAU,uEAETqB,EAAE,wBAA0B,wBAIjC,UAACoC,EAAAA,CAAMA,CAAAA,CACLxD,KAAK,SACLyD,SAAU9C,EACVZ,UAAU,2KAETY,EAAaS,EAAE,oBAAsB,gBAAoBA,EAAE,cAAgB,eAIhF,UAAClB,MAAAA,CAAIH,UAAU,4BACb,WAACO,IAAAA,CAAEP,UAAU,sCACVqB,EAAE,yBAA2B,yBAA0B,IACxD,UAACkC,IAAIA,CACHC,KAAK,KADFD,YAEHvD,UAAU,+DAETqB,EAAE,sBAAwB,8BAQ3C,EAAE,SC7JsBsC,IACtB,MAAO,UAACnD,EAAKA,CAAAA,EAAAA,AACf","sources":["webpack://_N_E/?b6ab","webpack://_N_E/./src/components/common/FormInputField.tsx","webpack://_N_E/./src/components/auth/Login.tsx","webpack://_N_E/./src/pages/auth/login.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/auth/login\",\n      function () {\n        return require(\"private-next-pages/auth/login.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/auth/login\"])\n      });\n    }\n  ","import { UseFormRegister, RegisterOptions, FieldValues, Path } from 'react-hook-form';\nimport { ExclamationCircleIcon } from '@heroicons/react/24/outline';\n\ninterface FormInputFieldProps<T extends FieldValues> {\n  label: string;\n  name: Path<T>;\n  register: UseFormRegister<T>;\n  error?: string;\n  required?: boolean;\n  tooltip?: string;\n  validation?: RegisterOptions<T>;\n  className?: string;\n  type?: 'text' | 'email' | 'password' | 'number' | 'tel' | 'url' | 'date';\n  placeholder?: string;\n}\n\nexport const FormInputField = <T extends FieldValues>({\n  label,\n  name,\n  register,\n  error,\n  required = false,\n  tooltip,\n  validation = {},\n  className = '',\n  type = 'text',\n  placeholder\n}: FormInputFieldProps<T>) => {\n  return (\n    <div className={`mb-4 ${className}`}>\n      <div className=\"flex items-center gap-1\">\n        <label className=\"block text-base font-medium text-heading mb-2\">\n          {label}\n          {required && <span className=\"text-error-500 ml-1\">*</span>}\n        </label>\n        {tooltip && (\n          <div className=\"relative group\">\n            <span className=\"cursor-help text-foreground-tertiary hover:text-foreground-secondary\">\n              <ExclamationCircleIcon className=\"w-4 h-4\" />\n            </span>\n            <div className=\"absolute z-10 invisible group-hover:visible bg-neutral-900 text-white text-sm rounded p-2 bottom-full mb-1 w-48\">\n              {tooltip}\n            </div>\n          </div>\n        )}\n      </div>\n      <input\n        type={type}\n        placeholder={placeholder}\n        {...register(name, validation)}\n        className=\"input-field\"\n      />\n      {error && <p className=\"mt-2 text-sm text-error-600\">{error}</p>}\n    </div>\n  );\n};","'use client';\n\nimport React, { useState } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport { useForm } from 'react-hook-form';\nimport { FormInputField } from '../common/FormInputField';\nimport { Button } from '../common/Button';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useNotifications } from '../../contexts/NotificationContext';\nimport { useLanguage } from '../../contexts/LanguageContext';\nimport { FormDataManager } from '../../lib/formDataManager';\nimport { routeToBasePage } from '@/lib/utils';\n\ninterface LoginFormData {\n  email: string;\n  password: string;\n}\n\nexport const Login: React.FC = () => {  \n  const router = useRouter();\n  const [isLoading, setIsLoading] = useState(false);\n  const [rememberMe, setRememberMe] = useState(false);\n  const { login } = useAuth();\n  const { addNotification } = useNotifications();\n  const { t } = useLanguage();\n  const { register, handleSubmit, formState: { errors } } = useForm<LoginFormData>();\n\n  const onSubmit = async (data: LoginFormData) => {\n    setIsLoading(true);\n\n    try {\n      const success = await login(data.email, data.password);\n      if (success) {\n        addNotification('success', t('message.loggedIn'), 3000);\n        \n        // Check if there's pending case data and redirect accordingly\n        if (FormDataManager.hasPendingData()) {\n          // Show notification about restored data\n          addNotification('success', t('message.formDataRestored') || 'Your form data has been restored', 3000);\n          // Redirect back to case creation to complete the submission\n          router.push('/case/create');\n        } else {\n          // Redirect based on group after successful login\n          try {\n            const session = await (await import('aws-amplify/auth')).fetchAuthSession();\n            const idPayload = session.tokens?.idToken?.payload as Record<string, unknown> | undefined;\n            const groups = (idPayload?.['cognito:groups'] as string[] | undefined) || [];\n            router.push(routeToBasePage(groups));\n          } catch {\n            router.push('/user/profile');\n          }\n        }\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen\">\n      <div className=\"max-w-4xl mx-auto px-4 py-16\">\n        <div className=\"text-center mb-12\">\n          <h1 className=\"text-4xl font-bold text-foreground-primary mb-4\">\n            {t('login.title') || 'Welcome Back'}\n          </h1>\n          <p className=\"text-xl text-foreground-secondary\">\n            {t('login.subtitle') || 'Sign in to access your account'}\n          </p>\n        </div>\n\n        <div className=\"max-w-md mx-auto bg-background-primary rounded-lg shadow-box p-8\">\n          <h2 className=\"text-2xl font-semibold text-foreground-primary mb-6 text-center\">\n            {t('login.signIn') || 'Sign In'}\n          </h2>\n          <p className=\"text-foreground-secondary text-center mb-8\">\n            {t('login.enterCredentials') || 'Enter your credentials to continue'}\n          </p>\n\n          <form className=\"space-y-6\" onSubmit={handleSubmit(onSubmit)}>\n            <FormInputField\n              label={t('auth.email') || 'Email Address'}\n              name=\"email\"\n              type=\"email\"\n              register={register}\n              error={errors.email?.message}\n              required\n              validation={{\n                required: (t('auth.email') || 'Email') + ' is required',\n                pattern: {\n                  value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                  message: t('validation.emailInvalid')\n                }\n              }}\n            />\n            \n            <FormInputField\n              label={t('auth.password') || 'Password'}\n              name=\"password\"\n              type=\"password\"\n              register={register}\n              error={errors.password?.message}\n              required\n              validation={{\n                required: (t('auth.password') || 'Password') + ' is required',\n                minLength: {\n                  value: 8,\n                  message: t('validation.passwordMinLength')\n                }\n              }}\n            />\n\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center\">\n                <input\n                  id=\"remember-me\"\n                  name=\"remember-me\"\n                  type=\"checkbox\"\n                  checked={rememberMe}\n                  onChange={(e) => setRememberMe(e.target.checked)}\n                  className=\"h-4 w-4 text-primary-600 focus:ring-primary-600 border-border-primary rounded\"\n                />\n                <label htmlFor=\"remember-me\" className=\"ml-2 block text-sm text-foreground-secondary\">\n                  {t('login.rememberMe') || 'Remember me'}\n                </label>\n              </div>\n\n              <Link \n                href=\"/auth/forgot-password\" \n                className=\"text-sm text-primary-600 hover:text-primary-700 font-medium\"\n              >\n                {t('auth.forgotPassword') || 'Forgot password?'}\n              </Link>\n            </div>\n\n            <Button \n              type=\"submit\" \n              disabled={isLoading} \n              className=\"w-full mt-8 bg-primary-600 hover:bg-primary-700 text-white py-3 px-4 rounded-md font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isLoading ? (t('login.signingIn') || 'Signing in...') : (t('nav.login') || 'Sign In')}\n            </Button>\n          </form>\n\n          <div className=\"mt-6 text-center\">\n            <p className=\"text-foreground-secondary\">\n              {t('auth.dontHaveAccount') || \"Don't have an account?\"}{' '}\n              <Link \n                href=\"/auth/register\" \n                className=\"text-primary-600 hover:text-primary-700 font-medium\"\n              >\n                {t('auth.registerHere') || 'Register here'}\n              </Link>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}; ","import { Login } from '@/components/auth/Login';\n\nexport default function LoginPage() {\n  return <Login />;\n} "],"names":["FormInputField","label","name","register","error","required","tooltip","validation","className","type","placeholder","div","span","ExclamationCircleIcon","input","p","Login","errors","router","useRouter","isLoading","setIsLoading","useState","rememberMe","setRememberMe","login","useAuth","addNotification","useNotifications","t","useLanguage","handleSubmit","formState","useForm","onSubmit","data","success","password","FormDataManager","hasPendingData","push","session","fetchAuthSession","idPayload","tokens","idToken","payload","groups","routeToBasePage","h1","h2","form","email","message","pattern","value","minLength","id","checked","onChange","e","target","htmlFor","Link","href","Button","disabled","LoginPage"],"sourceRoot":"","ignoreList":[]}